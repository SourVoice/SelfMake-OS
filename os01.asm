;hello-os
;Tab=4
;模拟FAT12格式软盘，模拟其内存分区机制
db      0xeb, 0x4e, 0x90
db      "HELLOIPL"        ;启动区名称可以是任意字符串（8字节）
dw      512               ;每个扇区大小
db      1                 ;簇的大小
dw      1                 ;FAT起始位置
db      2                 ;FAT个数
dw      224               ;根目录的大小
dw      2880              ;磁盘大小，
db      0xf0              ;磁盘种类
dw      9                 ;FAT长度
dw      18                ;1个磁道所拥有的扇区（必须为18）个
dw      2                 ;磁头数
dd      0                 ;不使用分区，必须为0
dd      2880              ;重写磁盘大小
db      0,0,0x29          ;固定数据
dd      0xffffffff        ;卷标号码
db      "HELLO-OS   "     ;11字节s 
db      "FAT12   "        ;8字节
RESB    18                ;空出18字节
;程序主体
db      0xb8,0x00,0x00,0x8e,0xd0,0xbc,0x00,0x7c
db      0x8e,0xd8,0x8e,0xc0,0xbe,0x74,0x7c,0x8a
db      0x04,0x83,0xc6,0x01,0x3c,0x00,0x74,0x09
db      0xb4,0x0e,0xbb,0x0f,0x00,0xcd,0x10,0xeb
db      0xee,0xf4,0xeb,0xfd
;显示信息
db      0x0a,0x0a     ;换行2个
db      "hello,world"
db      0x0a
db      0

RESB    0x1fe-($-$$)
db      0x55,0xaa
;启动区意外输出部分
db      0xf0,0xff,0xff,0x00,0x00,0x00,0x00,0x00
RESB    4600
db      0xf0,0xff,0xff,0x00,0x00,0x00,0x00,0x00
RESB    1469432