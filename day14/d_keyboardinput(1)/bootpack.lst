     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_fifo32_init
    10 00000000                                 	EXTERN	_init_pit
    11 00000000                                 	EXTERN	_init_keyboard
    12 00000000                                 	EXTERN	_enable_mouse
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_timer_alloc
    15 00000000                                 	EXTERN	_timer_init
    16 00000000                                 	EXTERN	_timer_settime
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_putfonts8_asc
    28 00000000                                 	EXTERN	_sheet_slide
    29 00000000                                 	EXTERN	_sheet_updown
    30 00000000                                 	EXTERN	_sprintf
    31 00000000                                 	EXTERN	_memman_total
    32 00000000                                 	EXTERN	_sheet_refresh
    33 00000000                                 	EXTERN	_io_cli
    34 00000000                                 	EXTERN	_fifo32_status
    35 00000000                                 	EXTERN	_fifo32_get
    36 00000000                                 	EXTERN	_boxfill8
    37 00000000                                 	EXTERN	_putfonts_asc_sht
    38 00000000                                 	EXTERN	_mouse_decode
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 77 69 6E 64 6F 77 00            	DB	"window",0x00
    43 00000007                                 LC1:
    44 00000007 54 68 69 73 20 4F 53 21 00      	DB	"This OS!",0x00
    45 00000010                                 LC2:
    46 00000010 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       0000001A 00 
    47 0000001B                                 LC3:
    48 0000001B 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB free : %dKB",0x00
       00000025 42 20 66 72 65 65 20 3A 20 25 
       0000002F 64 4B 42 00 
    49 00000033                                 LC9:
    50 00000033 33 5B 73 65 63 5D 00            	DB	"3[sec]",0x00
    51 0000003A                                 LC7:
    52 0000003A 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    53 00000042                                 LC8:
    54 00000042 25 30 31 30 64 00               	DB	"%010d",0x00
    55 00000048                                 LC5:
    56 00000048 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000052 34 64 5D 00 
    57 00000056                                 LC6:
    58 00000056 28 25 33 64 2C 25 33 64 29 00   	DB	"(%3d,%3d)",0x00
    59 00000060                                 LC4:
    60 00000060 25 30 32 78 00                  	DB	"%02x",0x00
    61                                          [SECTION .text]
    62 00000000                                 	GLOBAL	_HariMain
    63 00000000                                 _HariMain:
    64 00000000 55                              	PUSH	EBP
    65 00000001 89 E5                           	MOV	EBP,ESP
    66 00000003 57                              	PUSH	EDI
    67 00000004 56                              	PUSH	ESI
    68 00000005 53                              	PUSH	EBX
    69 00000006 81 EC 0000036C                  	SUB	ESP,876
    70 0000000C 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    71 00000013 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    72 0000001A 89 95 FFFFFCAC                  	MOV	DWORD [-852+EBP],EDX
    73 00000020 89 85 FFFFFCB0                  	MOV	DWORD [-848+EBP],EAX
    74 00000026 8B 35 00000FF8                  	MOV	ESI,DWORD [4088]
    75 0000002C C7 85 FFFFFCA4 00000000         	MOV	DWORD [-860+EBP],0
    76 00000036 E8 [00000000]                   	CALL	_init_gdtidt
    77 0000003B E8 [00000000]                   	CALL	_init_pic
    78 00000040 E8 [00000000]                   	CALL	_io_sti
    79 00000045 8D 85 FFFFFDC4                  	LEA	EAX,DWORD [-572+EBP]
    80 0000004B 50                              	PUSH	EAX
    81 0000004C 68 00000080                     	PUSH	128
    82 00000051 68 [00000150]                   	PUSH	_fifo
    83 00000056 E8 [00000000]                   	CALL	_fifo32_init
    84 0000005B E8 [00000000]                   	CALL	_init_pit
    85 00000060 68 00000100                     	PUSH	256
    86 00000065 68 [00000150]                   	PUSH	_fifo
    87 0000006A E8 [00000000]                   	CALL	_init_keyboard
    88 0000006F 8D 85 FFFFFDB4                  	LEA	EAX,DWORD [-588+EBP]
    89 00000075 50                              	PUSH	EAX
    90 00000076 68 00000200                     	PUSH	512
    91 0000007B 68 [00000150]                   	PUSH	_fifo
    92 00000080 E8 [00000000]                   	CALL	_enable_mouse
    93 00000085 83 C4 20                        	ADD	ESP,32
    94 00000088 68 000000F8                     	PUSH	248
    95 0000008D 6A 21                           	PUSH	33
    96 0000008F E8 [00000000]                   	CALL	_io_out8
    97 00000094 68 000000EF                     	PUSH	239
    98 00000099 68 000000A1                     	PUSH	161
    99 0000009E E8 [00000000]                   	CALL	_io_out8
   100 000000A3 6A 01                           	PUSH	1
   101 000000A5 68 [00000150]                   	PUSH	_fifo
   102 000000AA E8 000006BA                     	CALL	_set490
   103 000000AF E8 [00000000]                   	CALL	_timer_alloc
   104 000000B4 6A 0A                           	PUSH	10
   105 000000B6 68 [00000150]                   	PUSH	_fifo
   106 000000BB 89 C3                           	MOV	EBX,EAX
   107 000000BD 50                              	PUSH	EAX
   108 000000BE E8 [00000000]                   	CALL	_timer_init
   109 000000C3 83 C4 24                        	ADD	ESP,36
   110 000000C6 68 000003E8                     	PUSH	1000
   111 000000CB 53                              	PUSH	EBX
   112 000000CC E8 [00000000]                   	CALL	_timer_settime
   113 000000D1 E8 [00000000]                   	CALL	_timer_alloc
   114 000000D6 6A 03                           	PUSH	3
   115 000000D8 68 [00000150]                   	PUSH	_fifo
   116 000000DD 89 C3                           	MOV	EBX,EAX
   117 000000DF 50                              	PUSH	EAX
   118 000000E0 E8 [00000000]                   	CALL	_timer_init
   119 000000E5 68 0000012C                     	PUSH	300
   120 000000EA 53                              	PUSH	EBX
   121 000000EB E8 [00000000]                   	CALL	_timer_settime
   122 000000F0 E8 [00000000]                   	CALL	_timer_alloc
   123 000000F5 6A 01                           	PUSH	1
   124 000000F7 68 [00000150]                   	PUSH	_fifo
   125 000000FC 50                              	PUSH	EAX
   126 000000FD 89 85 FFFFFCA8                  	MOV	DWORD [-856+EBP],EAX
   127 00000103 E8 [00000000]                   	CALL	_timer_init
   128 00000108 83 C4 28                        	ADD	ESP,40
   129 0000010B 6A 32                           	PUSH	50
   130 0000010D FF B5 FFFFFCA8                  	PUSH	DWORD [-856+EBP]
   131 00000113 E8 [00000000]                   	CALL	_timer_settime
   132 00000118 68 BFFFFFFF                     	PUSH	-1073741825
   133 0000011D 68 00400000                     	PUSH	4194304
   134 00000122 E8 [00000000]                   	CALL	_memtest
   135 00000127 68 003C0000                     	PUSH	3932160
   136 0000012C 89 85 FFFFFCA0                  	MOV	DWORD [-864+EBP],EAX
   137 00000132 E8 [00000000]                   	CALL	_memman_init
   138 00000137 68 0009E000                     	PUSH	647168
   139 0000013C 68 00001000                     	PUSH	4096
   140 00000141 68 003C0000                     	PUSH	3932160
   141 00000146 E8 [00000000]                   	CALL	_memman_free
   142 0000014B 8B 85 FFFFFCA0                  	MOV	EAX,DWORD [-864+EBP]
   143 00000151 83 C4 20                        	ADD	ESP,32
   144 00000154 2D 00400000                     	SUB	EAX,4194304
   145 00000159 50                              	PUSH	EAX
   146 0000015A 68 00400000                     	PUSH	4194304
   147 0000015F 68 003C0000                     	PUSH	3932160
   148 00000164 E8 [00000000]                   	CALL	_memman_free
   149 00000169 E8 [00000000]                   	CALL	_init_palette
   150 0000016E 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   151 00000175 50                              	PUSH	EAX
   152 00000176 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   153 0000017D 50                              	PUSH	EAX
   154 0000017E 56                              	PUSH	ESI
   155 0000017F 8D B5 FFFFFCB4                  	LEA	ESI,DWORD [-844+EBP]
   156 00000185 68 003C0000                     	PUSH	3932160
   157 0000018A E8 [00000000]                   	CALL	_shtctl_init
   158 0000018F 89 C3                           	MOV	EBX,EAX
   159 00000191 50                              	PUSH	EAX
   160 00000192 E8 [00000000]                   	CALL	_sheet_alloc
   161 00000197 83 C4 20                        	ADD	ESP,32
   162 0000019A 53                              	PUSH	EBX
   163 0000019B 89 85 FFFFFC9C                  	MOV	DWORD [-868+EBP],EAX
   164 000001A1 E8 [00000000]                   	CALL	_sheet_alloc
   165 000001A6 53                              	PUSH	EBX
   166 000001A7 89 85 FFFFFC98                  	MOV	DWORD [-872+EBP],EAX
   167 000001AD E8 [00000000]                   	CALL	_sheet_alloc
   168 000001B2 0F BF 1D 00000FF6               	MOVSX	EBX,WORD [4086]
   169 000001B9 89 85 FFFFFC94                  	MOV	DWORD [-876+EBP],EAX
   170 000001BF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   171 000001C6 0F AF C3                        	IMUL	EAX,EBX
   172 000001C9 50                              	PUSH	EAX
   173 000001CA 68 003C0000                     	PUSH	3932160
   174 000001CF E8 [00000000]                   	CALL	_memman_alloc_4k
   175 000001D4 68 00002A80                     	PUSH	10880
   176 000001D9 68 003C0000                     	PUSH	3932160
   177 000001DE 89 85 FFFFFC90                  	MOV	DWORD [-880+EBP],EAX
   178 000001E4 E8 [00000000]                   	CALL	_memman_alloc_4k
   179 000001E9 6A FF                           	PUSH	-1
   180 000001EB 89 C3                           	MOV	EBX,EAX
   181 000001ED 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   182 000001F4 50                              	PUSH	EAX
   183 000001F5 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   184 000001FC 50                              	PUSH	EAX
   185 000001FD FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   186 00000203 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   187 00000209 E8 [00000000]                   	CALL	_sheet_setbuf
   188 0000020E 83 C4 2C                        	ADD	ESP,44
   189 00000211 6A 63                           	PUSH	99
   190 00000213 6A 10                           	PUSH	16
   191 00000215 6A 10                           	PUSH	16
   192 00000217 56                              	PUSH	ESI
   193 00000218 FF B5 FFFFFC98                  	PUSH	DWORD [-872+EBP]
   194 0000021E E8 [00000000]                   	CALL	_sheet_setbuf
   195 00000223 6A FF                           	PUSH	-1
   196 00000225 6A 44                           	PUSH	68
   197 00000227 68 000000A0                     	PUSH	160
   198 0000022C 53                              	PUSH	EBX
   199 0000022D FF B5 FFFFFC94                  	PUSH	DWORD [-876+EBP]
   200 00000233 E8 [00000000]                   	CALL	_sheet_setbuf
   201 00000238 83 C4 28                        	ADD	ESP,40
   202 0000023B 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   203 00000242 50                              	PUSH	EAX
   204 00000243 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   205 0000024A 50                              	PUSH	EAX
   206 0000024B FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   207 00000251 E8 [00000000]                   	CALL	_init_screen
   208 00000256 6A 63                           	PUSH	99
   209 00000258 56                              	PUSH	ESI
   210 00000259 E8 [00000000]                   	CALL	_init_mouse_cursor8
   211 0000025E 68 [00000000]                   	PUSH	LC0
   212 00000263 6A 44                           	PUSH	68
   213 00000265 68 000000A0                     	PUSH	160
   214 0000026A 53                              	PUSH	EBX
   215 0000026B E8 0000038D                     	CALL	_make_window
   216 00000270 83 C4 24                        	ADD	ESP,36
   217 00000273 68 [00000007]                   	PUSH	LC1
   218 00000278 6A 2C                           	PUSH	44
   219 0000027A 6A 18                           	PUSH	24
   220 0000027C 6A 00                           	PUSH	0
   221 0000027E 68 000000A0                     	PUSH	160
   222 00000283 53                              	PUSH	EBX
   223 00000284 BB 00000002                     	MOV	EBX,2
   224 00000289 E8 [00000000]                   	CALL	_putfonts8_asc
   225 0000028E 6A 00                           	PUSH	0
   226 00000290 6A 00                           	PUSH	0
   227 00000292 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   228 00000298 E8 [00000000]                   	CALL	_sheet_slide
   229 0000029D 83 C4 24                        	ADD	ESP,36
   230 000002A0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   231 000002A7 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   232 000002AA 89 C8                           	MOV	EAX,ECX
   233 000002AC 99                              	CDQ
   234 000002AD F7 FB                           	IDIV	EBX
   235 000002AF 89 C7                           	MOV	EDI,EAX
   236 000002B1 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   237 000002B8 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   238 000002BB 89 C8                           	MOV	EAX,ECX
   239 000002BD 99                              	CDQ
   240 000002BE F7 FB                           	IDIV	EBX
   241 000002C0 50                              	PUSH	EAX
   242 000002C1 89 C6                           	MOV	ESI,EAX
   243 000002C3 57                              	PUSH	EDI
   244 000002C4 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   245 000002C7 FF B5 FFFFFC98                  	PUSH	DWORD [-872+EBP]
   246 000002CD E8 [00000000]                   	CALL	_sheet_slide
   247 000002D2 6A 48                           	PUSH	72
   248 000002D4 6A 50                           	PUSH	80
   249 000002D6 FF B5 FFFFFC94                  	PUSH	DWORD [-876+EBP]
   250 000002DC E8 [00000000]                   	CALL	_sheet_slide
   251 000002E1 6A 00                           	PUSH	0
   252 000002E3 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   253 000002E9 E8 [00000000]                   	CALL	_sheet_updown
   254 000002EE 83 C4 20                        	ADD	ESP,32
   255 000002F1 6A 01                           	PUSH	1
   256 000002F3 FF B5 FFFFFC94                  	PUSH	DWORD [-876+EBP]
   257 000002F9 E8 [00000000]                   	CALL	_sheet_updown
   258 000002FE 6A 02                           	PUSH	2
   259 00000300 FF B5 FFFFFC98                  	PUSH	DWORD [-872+EBP]
   260 00000306 E8 [00000000]                   	CALL	_sheet_updown
   261 0000030B 56                              	PUSH	ESI
   262 0000030C 57                              	PUSH	EDI
   263 0000030D 68 [00000010]                   	PUSH	LC2
   264 00000312 53                              	PUSH	EBX
   265 00000313 E8 [00000000]                   	CALL	_sprintf
   266 00000318 83 C4 20                        	ADD	ESP,32
   267 0000031B 53                              	PUSH	EBX
   268 0000031C 6A 00                           	PUSH	0
   269 0000031E 6A 00                           	PUSH	0
   270 00000320 6A 00                           	PUSH	0
   271 00000322 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   272 00000329 50                              	PUSH	EAX
   273 0000032A FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   274 00000330 E8 [00000000]                   	CALL	_putfonts8_asc
   275 00000335 68 003C0000                     	PUSH	3932160
   276 0000033A E8 [00000000]                   	CALL	_memman_total
   277 0000033F C1 AD FFFFFCA0 14               	SHR	DWORD [-864+EBP],20
   278 00000346 C1 E8 0A                        	SHR	EAX,10
   279 00000349 89 04 24                        	MOV	DWORD [ESP],EAX
   280 0000034C FF B5 FFFFFCA0                  	PUSH	DWORD [-864+EBP]
   281 00000352 68 [0000001B]                   	PUSH	LC3
   282 00000357 53                              	PUSH	EBX
   283 00000358 E8 [00000000]                   	CALL	_sprintf
   284 0000035D 83 C4 28                        	ADD	ESP,40
   285 00000360 53                              	PUSH	EBX
   286 00000361 6A 20                           	PUSH	32
   287 00000363 6A 00                           	PUSH	0
   288 00000365 6A 07                           	PUSH	7
   289 00000367 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   290 0000036E 50                              	PUSH	EAX
   291 0000036F FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   292 00000375 E8 [00000000]                   	CALL	_putfonts8_asc
   293 0000037A 6A 30                           	PUSH	48
   294 0000037C FF B5 FFFFFCB0                  	PUSH	DWORD [-848+EBP]
   295 00000382 6A 00                           	PUSH	0
   296 00000384 6A 00                           	PUSH	0
   297 00000386 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   298 0000038C E8 [00000000]                   	CALL	_sheet_refresh
   299 00000391 83 C4 2C                        	ADD	ESP,44
   300 00000394                                 L2:
   301 00000394 FF 85 FFFFFCA4                  	INC	DWORD [-860+EBP]
   302 0000039A E8 [00000000]                   	CALL	_io_cli
   303 0000039F 68 [00000150]                   	PUSH	_fifo
   304 000003A4 E8 [00000000]                   	CALL	_fifo32_status
   305 000003A9 59                              	POP	ECX
   306 000003AA 85 C0                           	TEST	EAX,EAX
   307 000003AC 0F 84 00000241                  	JE	L28
   308 000003B2 68 [00000150]                   	PUSH	_fifo
   309 000003B7 E8 [00000000]                   	CALL	_fifo32_get
   310 000003BC 89 C3                           	MOV	EBX,EAX
   311 000003BE E8 [00000000]                   	CALL	_io_sti
   312 000003C3 5A                              	POP	EDX
   313 000003C4 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
   314 000003CA 3D 000000FF                     	CMP	EAX,255
   315 000003CF 0F 86 000001F1                  	JBE	L29
   316 000003D5 8D 83 FFFFFE00                  	LEA	EAX,DWORD [-512+EBX]
   317 000003DB 3D 000000FF                     	CMP	EAX,255
   318 000003E0 0F 86 000000FF                  	JBE	L30
   319 000003E6 83 FB 0A                        	CMP	EBX,10
   320 000003E9 0F 84 000000AA                  	JE	L31
   321 000003EF 83 FB 03                        	CMP	EBX,3
   322 000003F2 74 7F                           	JE	L32
   323 000003F4 83 FB 01                        	CMP	EBX,1
   324 000003F7 74 5C                           	JE	L33
   325 000003F9 85 DB                           	TEST	EBX,EBX
   326 000003FB 75 97                           	JNE	L2
   327 000003FD 6A 01                           	PUSH	1
   328 000003FF 68 [00000150]                   	PUSH	_fifo
   329 00000404 FF B5 FFFFFCA8                  	PUSH	DWORD [-856+EBP]
   330 0000040A E8 [00000000]                   	CALL	_timer_init
   331 0000040F 6A 6F                           	PUSH	111
   332 00000411 6A 0F                           	PUSH	15
   333 00000413 6A 60                           	PUSH	96
   334 00000415 6A 08                           	PUSH	8
   335 00000417 6A 0E                           	PUSH	14
   336 00000419                                 L26:
   337 00000419 FF B5 FFFFFCB0                  	PUSH	DWORD [-848+EBP]
   338 0000041F FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   339 00000425 E8 [00000000]                   	CALL	_boxfill8
   340 0000042A 83 C4 28                        	ADD	ESP,40
   341 0000042D 6A 32                           	PUSH	50
   342 0000042F FF B5 FFFFFCA8                  	PUSH	DWORD [-856+EBP]
   343 00000435 E8 [00000000]                   	CALL	_timer_settime
   344 0000043A 6A 70                           	PUSH	112
   345 0000043C 6A 10                           	PUSH	16
   346 0000043E 6A 60                           	PUSH	96
   347 00000440 6A 08                           	PUSH	8
   348 00000442 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   349 00000448 E8 [00000000]                   	CALL	_sheet_refresh
   350 0000044D                                 L27:
   351 0000044D 83 C4 1C                        	ADD	ESP,28
   352 00000450 E9 FFFFFF3F                     	JMP	L2
   353 00000455                                 L33:
   354 00000455 6A 00                           	PUSH	0
   355 00000457 68 [00000150]                   	PUSH	_fifo
   356 0000045C FF B5 FFFFFCA8                  	PUSH	DWORD [-856+EBP]
   357 00000462 E8 [00000000]                   	CALL	_timer_init
   358 00000467 6A 6F                           	PUSH	111
   359 00000469 6A 0F                           	PUSH	15
   360 0000046B 6A 60                           	PUSH	96
   361 0000046D 6A 08                           	PUSH	8
   362 0000046F 6A 07                           	PUSH	7
   363 00000471 EB A6                           	JMP	L26
   364 00000473                                 L32:
   365 00000473 6A 06                           	PUSH	6
   366 00000475 68 [00000033]                   	PUSH	LC9
   367 0000047A 6A 0E                           	PUSH	14
   368 0000047C 6A 07                           	PUSH	7
   369 0000047E 6A 50                           	PUSH	80
   370 00000480 6A 00                           	PUSH	0
   371 00000482 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   372 00000488 E8 [00000000]                   	CALL	_putfonts_asc_sht
   373 0000048D C7 85 FFFFFCA4 00000000         	MOV	DWORD [-860+EBP],0
   374 00000497 EB B4                           	JMP	L27
   375 00000499                                 L31:
   376 00000499 6A 07                           	PUSH	7
   377 0000049B 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   378 0000049E 68 [0000003A]                   	PUSH	LC7
   379 000004A3 6A 0E                           	PUSH	14
   380 000004A5 6A 07                           	PUSH	7
   381 000004A7 6A 40                           	PUSH	64
   382 000004A9 6A 00                           	PUSH	0
   383 000004AB FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   384 000004B1 E8 [00000000]                   	CALL	_putfonts_asc_sht
   385 000004B6 FF B5 FFFFFCA4                  	PUSH	DWORD [-860+EBP]
   386 000004BC 68 [00000042]                   	PUSH	LC8
   387 000004C1 53                              	PUSH	EBX
   388 000004C2 E8 [00000000]                   	CALL	_sprintf
   389 000004C7 83 C4 28                        	ADD	ESP,40
   390 000004CA 6A 0A                           	PUSH	10
   391 000004CC 53                              	PUSH	EBX
   392 000004CD 6A 08                           	PUSH	8
   393 000004CF 6A 00                           	PUSH	0
   394 000004D1 6A 1C                           	PUSH	28
   395 000004D3 6A 28                           	PUSH	40
   396 000004D5 FF B5 FFFFFC94                  	PUSH	DWORD [-876+EBP]
   397 000004DB E8 [00000000]                   	CALL	_putfonts_asc_sht
   398 000004E0 E9 FFFFFF68                     	JMP	L27
   399 000004E5                                 L30:
   400 000004E5 50                              	PUSH	EAX
   401 000004E6 8D 85 FFFFFDB4                  	LEA	EAX,DWORD [-588+EBP]
   402 000004EC 50                              	PUSH	EAX
   403 000004ED E8 [00000000]                   	CALL	_mouse_decode
   404 000004F2 5A                              	POP	EDX
   405 000004F3 59                              	POP	ECX
   406 000004F4 85 C0                           	TEST	EAX,EAX
   407 000004F6 0F 84 FFFFFE98                  	JE	L2
   408 000004FC FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   409 00000502 FF B5 FFFFFDB8                  	PUSH	DWORD [-584+EBP]
   410 00000508 68 [00000048]                   	PUSH	LC5
   411 0000050D 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   412 00000510 53                              	PUSH	EBX
   413 00000511 E8 [00000000]                   	CALL	_sprintf
   414 00000516 83 C4 10                        	ADD	ESP,16
   415 00000519 8B 85 FFFFFDC0                  	MOV	EAX,DWORD [-576+EBP]
   416 0000051F A9 00000001                     	TEST	EAX,1
   417 00000524 74 04                           	JE	L11
   418 00000526 C6 45 C5 4C                     	MOV	BYTE [-59+EBP],76
   419 0000052A                                 L11:
   420 0000052A A9 00000002                     	TEST	EAX,2
   421 0000052F 74 04                           	JE	L12
   422 00000531 C6 45 C7 52                     	MOV	BYTE [-57+EBP],82
   423 00000535                                 L12:
   424 00000535 83 E0 04                        	AND	EAX,4
   425 00000538 74 04                           	JE	L13
   426 0000053A C6 45 C6 43                     	MOV	BYTE [-58+EBP],67
   427 0000053E                                 L13:
   428 0000053E 6A 0F                           	PUSH	15
   429 00000540 53                              	PUSH	EBX
   430 00000541 6A 0E                           	PUSH	14
   431 00000543 6A 07                           	PUSH	7
   432 00000545 6A 10                           	PUSH	16
   433 00000547 6A 20                           	PUSH	32
   434 00000549 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   435 0000054F E8 [00000000]                   	CALL	_putfonts_asc_sht
   436 00000554 83 C4 1C                        	ADD	ESP,28
   437 00000557 03 B5 FFFFFDBC                  	ADD	ESI,DWORD [-580+EBP]
   438 0000055D 03 BD FFFFFDB8                  	ADD	EDI,DWORD [-584+EBP]
   439 00000563 78 5D                           	JS	L34
   440 00000565                                 L14:
   441 00000565 85 F6                           	TEST	ESI,ESI
   442 00000567 78 55                           	JS	L35
   443 00000569                                 L15:
   444 00000569 8B 85 FFFFFCB0                  	MOV	EAX,DWORD [-848+EBP]
   445 0000056F 48                              	DEC	EAX
   446 00000570 39 C7                           	CMP	EDI,EAX
   447 00000572 7E 02                           	JLE	L16
   448 00000574 89 C7                           	MOV	EDI,EAX
   449 00000576                                 L16:
   450 00000576 8B 85 FFFFFCAC                  	MOV	EAX,DWORD [-852+EBP]
   451 0000057C 48                              	DEC	EAX
   452 0000057D 39 C6                           	CMP	ESI,EAX
   453 0000057F 7E 02                           	JLE	L17
   454 00000581 89 C6                           	MOV	ESI,EAX
   455 00000583                                 L17:
   456 00000583 56                              	PUSH	ESI
   457 00000584 57                              	PUSH	EDI
   458 00000585 68 [00000056]                   	PUSH	LC6
   459 0000058A 53                              	PUSH	EBX
   460 0000058B E8 [00000000]                   	CALL	_sprintf
   461 00000590 6A 0A                           	PUSH	10
   462 00000592 53                              	PUSH	EBX
   463 00000593 6A 0E                           	PUSH	14
   464 00000595 6A 07                           	PUSH	7
   465 00000597 6A 00                           	PUSH	0
   466 00000599 6A 00                           	PUSH	0
   467 0000059B FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   468 000005A1 E8 [00000000]                   	CALL	_putfonts_asc_sht
   469 000005A6 83 C4 2C                        	ADD	ESP,44
   470 000005A9 56                              	PUSH	ESI
   471 000005AA 57                              	PUSH	EDI
   472 000005AB FF B5 FFFFFC98                  	PUSH	DWORD [-872+EBP]
   473 000005B1 E8 [00000000]                   	CALL	_sheet_slide
   474 000005B6 83 C4 0C                        	ADD	ESP,12
   475 000005B9 E9 FFFFFDD6                     	JMP	L2
   476 000005BE                                 L35:
   477 000005BE 31 F6                           	XOR	ESI,ESI
   478 000005C0 EB A7                           	JMP	L15
   479 000005C2                                 L34:
   480 000005C2 31 FF                           	XOR	EDI,EDI
   481 000005C4 EB 9F                           	JMP	L14
   482 000005C6                                 L29:
   483 000005C6 50                              	PUSH	EAX
   484 000005C7 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   485 000005CA 68 [00000060]                   	PUSH	LC4
   486 000005CF 53                              	PUSH	EBX
   487 000005D0 E8 [00000000]                   	CALL	_sprintf
   488 000005D5 6A 02                           	PUSH	2
   489 000005D7 53                              	PUSH	EBX
   490 000005D8 6A 0E                           	PUSH	14
   491 000005DA 6A 07                           	PUSH	7
   492 000005DC 6A 10                           	PUSH	16
   493 000005DE 6A 00                           	PUSH	0
   494 000005E0 FF B5 FFFFFC9C                  	PUSH	DWORD [-868+EBP]
   495 000005E6 E8 [00000000]                   	CALL	_putfonts_asc_sht
   496 000005EB 83 C4 28                        	ADD	ESP,40
   497 000005EE E9 FFFFFDA1                     	JMP	L2
   498 000005F3                                 L28:
   499 000005F3 E8 [00000000]                   	CALL	_io_sti
   500 000005F8 E9 FFFFFD97                     	JMP	L2
   501                                          [SECTION .data]
   502 00000065                                 _closebtn.0:
   503 00000065 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       0000006F 4F 4F 4F 4F 4F 40 
   504 00000075 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000007F 51 51 51 51 24 40 
   505 00000085 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000008F 51 51 51 51 24 40 
   506 00000095 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       0000009F 40 40 51 51 24 40 
   507 000000A5 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000AF 40 51 51 51 24 40 
   508 000000B5 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000BF 51 51 51 51 24 40 
   509 000000C5 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000CF 51 51 51 51 24 40 
   510 000000D5 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000DF 51 51 51 51 24 40 
   511 000000E5 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000EF 40 51 51 51 24 40 
   512 000000F5 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000FF 40 40 51 51 24 40 
   513 00000105 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000010F 51 51 51 51 24 40 
   514 00000115 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000011F 51 51 51 51 24 40 
   515 00000125 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       0000012F 24 24 24 24 24 40 
   516 00000135 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       0000013F 40 40 40 40 40 40 
   517                                          [SECTION .text]
   518 000005FD                                 	GLOBAL	_make_window
   519 000005FD                                 _make_window:
   520 000005FD 55                              	PUSH	EBP
   521 000005FE 89 E5                           	MOV	EBP,ESP
   522 00000600 57                              	PUSH	EDI
   523 00000601 56                              	PUSH	ESI
   524 00000602 53                              	PUSH	EBX
   525 00000603 83 EC 14                        	SUB	ESP,20
   526 00000606 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   527 00000609 6A 00                           	PUSH	0
   528 0000060B 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   529 0000060E 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   530 00000611 50                              	PUSH	EAX
   531 00000612 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   532 00000615 6A 00                           	PUSH	0
   533 00000617 6A 00                           	PUSH	0
   534 00000619 6A 08                           	PUSH	8
   535 0000061B 53                              	PUSH	EBX
   536 0000061C FF 75 08                        	PUSH	DWORD [8+EBP]
   537 0000061F E8 [00000000]                   	CALL	_boxfill8
   538 00000624 6A 01                           	PUSH	1
   539 00000626 57                              	PUSH	EDI
   540 00000627 6A 01                           	PUSH	1
   541 00000629 6A 01                           	PUSH	1
   542 0000062B 6A 07                           	PUSH	7
   543 0000062D 53                              	PUSH	EBX
   544 0000062E FF 75 08                        	PUSH	DWORD [8+EBP]
   545 00000631 E8 [00000000]                   	CALL	_boxfill8
   546 00000636 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   547 00000639 83 C4 38                        	ADD	ESP,56
   548 0000063C 4A                              	DEC	EDX
   549 0000063D 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   550 00000640 52                              	PUSH	EDX
   551 00000641 6A 00                           	PUSH	0
   552 00000643 6A 00                           	PUSH	0
   553 00000645 6A 00                           	PUSH	0
   554 00000647 6A 08                           	PUSH	8
   555 00000649 53                              	PUSH	EBX
   556 0000064A FF 75 08                        	PUSH	DWORD [8+EBP]
   557 0000064D E8 [00000000]                   	CALL	_boxfill8
   558 00000652 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   559 00000655 83 EE 02                        	SUB	ESI,2
   560 00000658 56                              	PUSH	ESI
   561 00000659 6A 01                           	PUSH	1
   562 0000065B 6A 01                           	PUSH	1
   563 0000065D 6A 01                           	PUSH	1
   564 0000065F 6A 07                           	PUSH	7
   565 00000661 53                              	PUSH	EBX
   566 00000662 FF 75 08                        	PUSH	DWORD [8+EBP]
   567 00000665 E8 [00000000]                   	CALL	_boxfill8
   568 0000066A 83 C4 38                        	ADD	ESP,56
   569 0000066D 56                              	PUSH	ESI
   570 0000066E 57                              	PUSH	EDI
   571 0000066F 6A 01                           	PUSH	1
   572 00000671 57                              	PUSH	EDI
   573 00000672 6A 0F                           	PUSH	15
   574 00000674 53                              	PUSH	EBX
   575 00000675 FF 75 08                        	PUSH	DWORD [8+EBP]
   576 00000678 E8 [00000000]                   	CALL	_boxfill8
   577 0000067D FF 75 E8                        	PUSH	DWORD [-24+EBP]
   578 00000680 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   579 00000683 6A 00                           	PUSH	0
   580 00000685 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   581 00000688 6A 00                           	PUSH	0
   582 0000068A 53                              	PUSH	EBX
   583 0000068B FF 75 08                        	PUSH	DWORD [8+EBP]
   584 0000068E E8 [00000000]                   	CALL	_boxfill8
   585 00000693 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   586 00000696 83 C4 38                        	ADD	ESP,56
   587 00000699 83 E8 03                        	SUB	EAX,3
   588 0000069C 50                              	PUSH	EAX
   589 0000069D 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   590 000006A0 50                              	PUSH	EAX
   591 000006A1 6A 02                           	PUSH	2
   592 000006A3 6A 02                           	PUSH	2
   593 000006A5 6A 08                           	PUSH	8
   594 000006A7 53                              	PUSH	EBX
   595 000006A8 FF 75 08                        	PUSH	DWORD [8+EBP]
   596 000006AB E8 [00000000]                   	CALL	_boxfill8
   597 000006B0 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   598 000006B3 6A 14                           	PUSH	20
   599 000006B5 50                              	PUSH	EAX
   600 000006B6 6A 03                           	PUSH	3
   601 000006B8 6A 03                           	PUSH	3
   602 000006BA 6A 0C                           	PUSH	12
   603 000006BC 53                              	PUSH	EBX
   604 000006BD FF 75 08                        	PUSH	DWORD [8+EBP]
   605 000006C0 E8 [00000000]                   	CALL	_boxfill8
   606 000006C5 83 C4 38                        	ADD	ESP,56
   607 000006C8 56                              	PUSH	ESI
   608 000006C9 57                              	PUSH	EDI
   609 000006CA 56                              	PUSH	ESI
   610 000006CB 6A 01                           	PUSH	1
   611 000006CD 6A 0F                           	PUSH	15
   612 000006CF 53                              	PUSH	EBX
   613 000006D0 FF 75 08                        	PUSH	DWORD [8+EBP]
   614 000006D3 E8 [00000000]                   	CALL	_boxfill8
   615 000006D8 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   616 000006DB FF 75 EC                        	PUSH	DWORD [-20+EBP]
   617 000006DE FF 75 E8                        	PUSH	DWORD [-24+EBP]
   618 000006E1 6A 00                           	PUSH	0
   619 000006E3 6A 00                           	PUSH	0
   620 000006E5 6B F3 05                        	IMUL	ESI,EBX,5
   621 000006E8 53                              	PUSH	EBX
   622 000006E9 FF 75 08                        	PUSH	DWORD [8+EBP]
   623 000006EC E8 [00000000]                   	CALL	_boxfill8
   624 000006F1 83 C4 38                        	ADD	ESP,56
   625 000006F4 FF 75 14                        	PUSH	DWORD [20+EBP]
   626 000006F7 6A 04                           	PUSH	4
   627 000006F9 6A 18                           	PUSH	24
   628 000006FB 6A 07                           	PUSH	7
   629 000006FD 53                              	PUSH	EBX
   630 000006FE FF 75 08                        	PUSH	DWORD [8+EBP]
   631 00000701 E8 [00000000]                   	CALL	_putfonts8_asc
   632 00000706 83 C4 18                        	ADD	ESP,24
   633 00000709 C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   634 00000710 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   635 00000717                                 L52:
   636 00000717 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   637 0000071A 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   638 0000071D 31 FF                           	XOR	EDI,EDI
   639 0000071F 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   640 00000723                                 L51:
   641 00000723 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   642 00000726 8A 94 07 [00000065]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   643 0000072D 80 FA 40                        	CMP	DL,64
   644 00000730 74 33                           	JE	L57
   645 00000732 80 FA 24                        	CMP	DL,36
   646 00000735 74 2A                           	JE	L58
   647 00000737 80 FA 51                        	CMP	DL,81
   648 0000073A B2 08                           	MOV	DL,8
   649 0000073C 0F 95 C0                        	SETNE	AL
   650 0000073F 28 C2                           	SUB	DL,AL
   651 00000741                                 L46:
   652 00000741 47                              	INC	EDI
   653 00000742 88 11                           	MOV	BYTE [ECX],DL
   654 00000744 41                              	INC	ECX
   655 00000745 83 FF 0F                        	CMP	EDI,15
   656 00000748 7E D9                           	JLE	L51
   657 0000074A FF 45 F0                        	INC	DWORD [-16+EBP]
   658 0000074D 01 DE                           	ADD	ESI,EBX
   659 0000074F 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   660 00000753 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   661 00000757 7E BE                           	JLE	L52
   662 00000759 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   663 0000075C 5B                              	POP	EBX
   664 0000075D 5E                              	POP	ESI
   665 0000075E 5F                              	POP	EDI
   666 0000075F 5D                              	POP	EBP
   667 00000760 C3                              	RET
   668 00000761                                 L58:
   669 00000761 B2 0F                           	MOV	DL,15
   670 00000763 EB DC                           	JMP	L46
   671 00000765                                 L57:
   672 00000765 31 D2                           	XOR	EDX,EDX
   673 00000767 EB D8                           	JMP	L46
   674 00000769                                 	GLOBAL	_set490
   675 00000769                                 _set490:
   676 00000769 55                              	PUSH	EBP
   677 0000076A 89 E5                           	MOV	EBP,ESP
   678 0000076C 57                              	PUSH	EDI
   679 0000076D 56                              	PUSH	ESI
   680 0000076E 53                              	PUSH	EBX
   681 0000076F 83 7D 0C 00                     	CMP	DWORD [12+EBP],0
   682 00000773 74 34                           	JE	L59
   683 00000775 31 F6                           	XOR	ESI,ESI
   684 00000777 BF 19BFCC00                     	MOV	EDI,432000000
   685 0000077C                                 L65:
   686 0000077C E8 [00000000]                   	CALL	_timer_alloc
   687 00000781 89 C3                           	MOV	EBX,EAX
   688 00000783 8D 86 00000400                  	LEA	EAX,DWORD [1024+ESI]
   689 00000789 50                              	PUSH	EAX
   690 0000078A 46                              	INC	ESI
   691 0000078B FF 75 08                        	PUSH	DWORD [8+EBP]
   692 0000078E 53                              	PUSH	EBX
   693 0000078F E8 [00000000]                   	CALL	_timer_init
   694 00000794 57                              	PUSH	EDI
   695 00000795 53                              	PUSH	EBX
   696 00000796 83 C7 64                        	ADD	EDI,100
   697 00000799 E8 [00000000]                   	CALL	_timer_settime
   698 0000079E 83 C4 14                        	ADD	ESP,20
   699 000007A1 81 FE 000001E9                  	CMP	ESI,489
   700 000007A7 7E D3                           	JLE	L65
   701 000007A9                                 L59:
   702 000007A9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   703 000007AC 5B                              	POP	EBX
   704 000007AD 5E                              	POP	ESI
   705 000007AE 5F                              	POP	EDI
   706 000007AF 5D                              	POP	EBP
   707 000007B0 C3                              	RET
   708 000007B1                                 	GLOBAL	_fifo
   709                                          [SECTION .data]
   710 00000145 00 00 00 00 00 00 00 00 00 00   	ALIGNB	16
       0000014F 00 
   711 00000150                                 _fifo:
   712 00000150 00 00 00 00 00 00 00 00 00 00   	RESB	24
       0000015A 00 00 00 00 00 00 00 00 00 00 
       00000164 00 00 00 00 
