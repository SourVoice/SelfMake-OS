     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_readfat
    13 00000000                                 	EXTERN	_io_cli
    14 00000000                                 	EXTERN	_fifo32_status
    15 00000000                                 	EXTERN	_fifo32_get
    16 00000000                                 	EXTERN	_io_sti
    17 00000000                                 	EXTERN	_boxfill8
    18 00000000                                 	EXTERN	_sheet_refresh
    19 00000000                                 	EXTERN	_task_sleep
    20 00000000                                 	EXTERN	_putfonts8_asc_sht
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_sprintf
    23 00000000                                 	EXTERN	_file_search
    24 00000000                                 	EXTERN	_file_loadfile
    25 00000000                                 	EXTERN	_memman_free_4k
    26 00000000                                 	EXTERN	_set_segmdesc
    27 00000000                                 	EXTERN	_start_app
    28 00000000                                 	EXTERN	_timer_cancelall
    29 00000000                                 	EXTERN	_sheet_free
    30 00000000                                 	EXTERN	_timer_free
    31 00000000                                 	EXTERN	_memman_free
    32 00000000                                 	EXTERN	_memman_alloc
    33 00000000                                 	EXTERN	_memman_init
    34 00000000                                 	EXTERN	_putfonts8_asc
    35 00000000                                 	EXTERN	_sheet_alloc
    36 00000000                                 	EXTERN	_sheet_setbuf
    37 00000000                                 	EXTERN	_make_window8
    38 00000000                                 	EXTERN	_sheet_slide
    39 00000000                                 	EXTERN	_sheet_updown
    40 00000000                                 [FILE "console.c"]
    41                                          [SECTION .text]
    42 00000000                                 	GLOBAL	_console_task
    43 00000000                                 _console_task:
    44 00000000 55                              	PUSH	EBP
    45 00000001 89 E5                           	MOV	EBP,ESP
    46 00000003 57                              	PUSH	EDI
    47 00000004 56                              	PUSH	ESI
    48 00000005 53                              	PUSH	EBX
    49 00000006 8D 9D FFFFFDD4                  	LEA	EBX,DWORD [-556+EBP]
    50 0000000C 81 EC 0000024C                  	SUB	ESP,588
    51 00000012 E8 [00000000]                   	CALL	_task_now
    52 00000017 68 00002D00                     	PUSH	11520
    53 0000001C 68 003C0000                     	PUSH	3932160
    54 00000021 89 85 FFFFFDB0                  	MOV	DWORD [-592+EBP],EAX
    55 00000027 E8 [00000000]                   	CALL	_memman_alloc_4k
    56 0000002C 8B B5 FFFFFDB0                  	MOV	ESI,DWORD [-592+EBP]
    57 00000032 C7 85 FFFFFDDC 00000008         	MOV	DWORD [-548+EBP],8
    58 0000003C 89 85 FFFFFDAC                  	MOV	DWORD [-596+EBP],EAX
    59 00000042 83 C6 10                        	ADD	ESI,16
    60 00000045 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    61 00000048 89 85 FFFFFDD4                  	MOV	DWORD [-556+EBP],EAX
    62 0000004E 8D 85 FFFFFDF4                  	LEA	EAX,DWORD [-524+EBP]
    63 00000054 C7 85 FFFFFDE0 0000001C         	MOV	DWORD [-544+EBP],28
    64 0000005E C7 85 FFFFFDE4 FFFFFFFF         	MOV	DWORD [-540+EBP],-1
    65 00000068 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
    66 0000006E FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
    67 00000074 50                              	PUSH	EAX
    68 00000075 68 00000080                     	PUSH	128
    69 0000007A 56                              	PUSH	ESI
    70 0000007B E8 [00000000]                   	CALL	_fifo32_init
    71 00000080 E8 [00000000]                   	CALL	_timer_alloc
    72 00000085 6A 01                           	PUSH	1
    73 00000087 56                              	PUSH	ESI
    74 00000088 89 C7                           	MOV	EDI,EAX
    75 0000008A 50                              	PUSH	EAX
    76 0000008B E8 [00000000]                   	CALL	_timer_init
    77 00000090 83 C4 24                        	ADD	ESP,36
    78 00000093 6A 32                           	PUSH	50
    79 00000095 57                              	PUSH	EDI
    80 00000096 E8 [00000000]                   	CALL	_timer_settime
    81 0000009B 68 00100200                     	PUSH	1049088
    82 000000A0 FF B5 FFFFFDAC                  	PUSH	DWORD [-596+EBP]
    83 000000A6 E8 [00000000]                   	CALL	_file_readfat
    84 000000AB 6A 01                           	PUSH	1
    85 000000AD 6A 3E                           	PUSH	62
    86 000000AF 53                              	PUSH	EBX
    87 000000B0 E8 00000237                     	CALL	_cons_putchar
    88 000000B5 83 C4 1C                        	ADD	ESP,28
    89 000000B8                                 L2:
    90 000000B8 E8 [00000000]                   	CALL	_io_cli
    91 000000BD 8B 9D FFFFFDB0                  	MOV	EBX,DWORD [-592+EBP]
    92 000000C3 83 C3 10                        	ADD	EBX,16
    93 000000C6 53                              	PUSH	EBX
    94 000000C7 E8 [00000000]                   	CALL	_fifo32_status
    95 000000CC 5E                              	POP	ESI
    96 000000CD 85 C0                           	TEST	EAX,EAX
    97 000000CF 0F 84 00000201                  	JE	L24
    98 000000D5 53                              	PUSH	EBX
    99 000000D6 E8 [00000000]                   	CALL	_fifo32_get
   100 000000DB 89 C6                           	MOV	ESI,EAX
   101 000000DD E8 [00000000]                   	CALL	_io_sti
   102 000000E2 59                              	POP	ECX
   103 000000E3 83 FE 01                        	CMP	ESI,1
   104 000000E6 0F 8E 00000197                  	JLE	L25
   105 000000EC                                 L7:
   106 000000EC 83 FE 02                        	CMP	ESI,2
   107 000000EF 0F 84 0000017F                  	JE	L26
   108 000000F5                                 L12:
   109 000000F5 83 FE 03                        	CMP	ESI,3
   110 000000F8 0F 84 0000013F                  	JE	L27
   111 000000FE                                 L13:
   112 000000FE 8D 9E FFFFFF00                  	LEA	EBX,DWORD [-256+ESI]
   113 00000104 89 9D FFFFFDA8                  	MOV	DWORD [-600+EBP],EBX
   114 0000010A 81 FB 000000FF                  	CMP	EBX,255
   115 00000110 77 54                           	JA	L14
   116 00000112 81 FE 00000108                  	CMP	ESI,264
   117 00000118 0F 84 000000F6                  	JE	L28
   118 0000011E 81 FE 0000010A                  	CMP	ESI,266
   119 00000124 0F 84 00000099                  	JE	L29
   120 0000012A 8B 8D FFFFFDDC                  	MOV	ECX,DWORD [-548+EBP]
   121 00000130 81 F9 000000EF                  	CMP	ECX,239
   122 00000136 7F 2E                           	JG	L14
   123 00000138 89 C8                           	MOV	EAX,ECX
   124 0000013A BA 00000008                     	MOV	EDX,8
   125 0000013F 89 D3                           	MOV	EBX,EDX
   126 00000141 6A 01                           	PUSH	1
   127 00000143 99                              	CDQ
   128 00000144 F7 FB                           	IDIV	EBX
   129 00000146 89 C1                           	MOV	ECX,EAX
   130 00000148 89 F0                           	MOV	EAX,ESI
   131 0000014A 88 84 0D FFFFFDB2               	MOV	BYTE [-590+EBP+ECX*1],AL
   132 00000151 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   133 00000157 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   134 0000015D 50                              	PUSH	EAX
   135 0000015E                                 L22:
   136 0000015E E8 00000189                     	CALL	_cons_putchar
   137 00000163                                 L23:
   138 00000163 83 C4 0C                        	ADD	ESP,12
   139 00000166                                 L14:
   140 00000166 83 BD FFFFFDE4 00               	CMP	DWORD [-540+EBP],0
   141 0000016D 78 2E                           	JS	L21
   142 0000016F 8B 8D FFFFFDE0                  	MOV	ECX,DWORD [-544+EBP]
   143 00000175 8B 95 FFFFFDDC                  	MOV	EDX,DWORD [-548+EBP]
   144 0000017B 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   145 0000017E 50                              	PUSH	EAX
   146 0000017F 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   147 00000182 50                              	PUSH	EAX
   148 00000183 51                              	PUSH	ECX
   149 00000184 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   150 00000187 52                              	PUSH	EDX
   151 00000188 0F B6 85 FFFFFDE4               	MOVZX	EAX,BYTE [-540+EBP]
   152 0000018F 50                              	PUSH	EAX
   153 00000190 FF 71 04                        	PUSH	DWORD [4+ECX]
   154 00000193 FF 31                           	PUSH	DWORD [ECX]
   155 00000195 E8 [00000000]                   	CALL	_boxfill8
   156 0000019A 83 C4 1C                        	ADD	ESP,28
   157 0000019D                                 L21:
   158 0000019D 8B 8D FFFFFDE0                  	MOV	ECX,DWORD [-544+EBP]
   159 000001A3 8B 95 FFFFFDDC                  	MOV	EDX,DWORD [-548+EBP]
   160 000001A9 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   161 000001AC 50                              	PUSH	EAX
   162 000001AD 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   163 000001B0 50                              	PUSH	EAX
   164 000001B1 51                              	PUSH	ECX
   165 000001B2 52                              	PUSH	EDX
   166 000001B3 FF 75 08                        	PUSH	DWORD [8+EBP]
   167 000001B6 E8 [00000000]                   	CALL	_sheet_refresh
   168 000001BB 83 C4 14                        	ADD	ESP,20
   169 000001BE E9 FFFFFEF5                     	JMP	L2
   170 000001C3                                 L29:
   171 000001C3 6A 00                           	PUSH	0
   172 000001C5 8D 9D FFFFFDD4                  	LEA	EBX,DWORD [-556+EBP]
   173 000001CB 6A 20                           	PUSH	32
   174 000001CD 53                              	PUSH	EBX
   175 000001CE E8 00000119                     	CALL	_cons_putchar
   176 000001D3 53                              	PUSH	EBX
   177 000001D4 8B 85 FFFFFDDC                  	MOV	EAX,DWORD [-548+EBP]
   178 000001DA BA 00000008                     	MOV	EDX,8
   179 000001DF 89 D1                           	MOV	ECX,EDX
   180 000001E1 99                              	CDQ
   181 000001E2 F7 F9                           	IDIV	ECX
   182 000001E4 C6 84 05 FFFFFDB2 00            	MOV	BYTE [-590+EBP+EAX*1],0
   183 000001EC E8 0000019E                     	CALL	_cons_newline
   184 000001F1 8D 85 FFFFFDB4                  	LEA	EAX,DWORD [-588+EBP]
   185 000001F7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   186 000001FA FF B5 FFFFFDAC                  	PUSH	DWORD [-596+EBP]
   187 00000200 53                              	PUSH	EBX
   188 00000201 50                              	PUSH	EAX
   189 00000202 E8 000002A4                     	CALL	_cons_runcmd
   190 00000207 83 C4 20                        	ADD	ESP,32
   191 0000020A 6A 01                           	PUSH	1
   192 0000020C 6A 3E                           	PUSH	62
   193 0000020E 53                              	PUSH	EBX
   194 0000020F E9 FFFFFF4A                     	JMP	L22
   195 00000214                                 L28:
   196 00000214 83 BD FFFFFDDC 10               	CMP	DWORD [-548+EBP],16
   197 0000021B 0F 8E FFFFFF45                  	JLE	L14
   198 00000221 6A 00                           	PUSH	0
   199 00000223 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   200 00000229 6A 20                           	PUSH	32
   201 0000022B 50                              	PUSH	EAX
   202 0000022C E8 000000BB                     	CALL	_cons_putchar
   203 00000231 83 AD FFFFFDDC 08               	SUB	DWORD [-548+EBP],8
   204 00000238 E9 FFFFFF26                     	JMP	L23
   205 0000023D                                 L27:
   206 0000023D 8B 8D FFFFFDE0                  	MOV	ECX,DWORD [-544+EBP]
   207 00000243 8B 95 FFFFFDDC                  	MOV	EDX,DWORD [-548+EBP]
   208 00000249 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   209 0000024C 50                              	PUSH	EAX
   210 0000024D 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   211 00000250 50                              	PUSH	EAX
   212 00000251 51                              	PUSH	ECX
   213 00000252 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   214 00000255 52                              	PUSH	EDX
   215 00000256 6A 00                           	PUSH	0
   216 00000258 FF 71 04                        	PUSH	DWORD [4+ECX]
   217 0000025B FF 31                           	PUSH	DWORD [ECX]
   218 0000025D E8 [00000000]                   	CALL	_boxfill8
   219 00000262 83 C4 1C                        	ADD	ESP,28
   220 00000265 C7 85 FFFFFDE4 FFFFFFFF         	MOV	DWORD [-540+EBP],-1
   221 0000026F E9 FFFFFE8A                     	JMP	L13
   222 00000274                                 L26:
   223 00000274 C7 85 FFFFFDE4 00000007         	MOV	DWORD [-540+EBP],7
   224 0000027E E9 FFFFFE72                     	JMP	L12
   225 00000283                                 L25:
   226 00000283 85 F6                           	TEST	ESI,ESI
   227 00000285 74 2E                           	JE	L8
   228 00000287 6A 00                           	PUSH	0
   229 00000289 53                              	PUSH	EBX
   230 0000028A 57                              	PUSH	EDI
   231 0000028B E8 [00000000]                   	CALL	_timer_init
   232 00000290 83 C4 0C                        	ADD	ESP,12
   233 00000293 83 BD FFFFFDE4 00               	CMP	DWORD [-540+EBP],0
   234 0000029A 78 0A                           	JS	L10
   235 0000029C C7 85 FFFFFDE4 00000007         	MOV	DWORD [-540+EBP],7
   236 000002A6                                 L10:
   237 000002A6 6A 32                           	PUSH	50
   238 000002A8 57                              	PUSH	EDI
   239 000002A9 E8 [00000000]                   	CALL	_timer_settime
   240 000002AE 58                              	POP	EAX
   241 000002AF 5A                              	POP	EDX
   242 000002B0 E9 FFFFFE37                     	JMP	L7
   243 000002B5                                 L8:
   244 000002B5 6A 01                           	PUSH	1
   245 000002B7 53                              	PUSH	EBX
   246 000002B8 57                              	PUSH	EDI
   247 000002B9 E8 [00000000]                   	CALL	_timer_init
   248 000002BE 83 C4 0C                        	ADD	ESP,12
   249 000002C1 83 BD FFFFFDE4 00               	CMP	DWORD [-540+EBP],0
   250 000002C8 78 DC                           	JS	L10
   251 000002CA C7 85 FFFFFDE4 00000000         	MOV	DWORD [-540+EBP],0
   252 000002D4 EB D0                           	JMP	L10
   253 000002D6                                 L24:
   254 000002D6 FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   255 000002DC E8 [00000000]                   	CALL	_task_sleep
   256 000002E1 E8 [00000000]                   	CALL	_io_sti
   257 000002E6 5B                              	POP	EBX
   258 000002E7 E9 FFFFFDCC                     	JMP	L2
   259                                          [SECTION .data]
   260 00000000                                 LC0:
   261 00000000 20 00                           	DB	" ",0x00
   262                                          [SECTION .text]
   263 000002EC                                 	GLOBAL	_cons_putchar
   264 000002EC                                 _cons_putchar:
   265 000002EC 55                              	PUSH	EBP
   266 000002ED 89 E5                           	MOV	EBP,ESP
   267 000002EF 53                              	PUSH	EBX
   268 000002F0 50                              	PUSH	EAX
   269 000002F1 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   270 000002F4 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   271 000002F7 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   272 000002FA 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   273 000002FD 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   274 00000300 3C 09                           	CMP	AL,9
   275 00000302 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   276 00000306 74 46                           	JE	L32
   277 00000308 3C 0A                           	CMP	AL,10
   278 0000030A 74 39                           	JE	L44
   279 0000030C 3C 0D                           	CMP	AL,13
   280 0000030E 74 30                           	JE	L30
   281 00000310 6A 01                           	PUSH	1
   282 00000312 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   283 00000315 50                              	PUSH	EAX
   284 00000316 6A 00                           	PUSH	0
   285 00000318 6A 07                           	PUSH	7
   286 0000031A FF 73 0C                        	PUSH	DWORD [12+EBX]
   287 0000031D FF 73 08                        	PUSH	DWORD [8+EBX]
   288 00000320 FF 33                           	PUSH	DWORD [EBX]
   289 00000322 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   290 00000327 83 C4 1C                        	ADD	ESP,28
   291 0000032A 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   292 0000032E 74 10                           	JE	L30
   293 00000330 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
   294 00000333 83 C0 08                        	ADD	EAX,8
   295 00000336 89 43 08                        	MOV	DWORD [8+EBX],EAX
   296 00000339 3D 000000F8                     	CMP	EAX,248
   297 0000033E 74 05                           	JE	L44
   298 00000340                                 L30:
   299 00000340 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   300 00000343 C9                              	LEAVE
   301 00000344 C3                              	RET
   302 00000345                                 L44:
   303 00000345 53                              	PUSH	EBX
   304 00000346 E8 00000044                     	CALL	_cons_newline
   305 0000034B 58                              	POP	EAX
   306 0000034C EB F2                           	JMP	L30
   307 0000034E                                 L32:
   308 0000034E 6A 01                           	PUSH	1
   309 00000350 68 [00000000]                   	PUSH	LC0
   310 00000355 6A 00                           	PUSH	0
   311 00000357 6A 07                           	PUSH	7
   312 00000359 FF 73 0C                        	PUSH	DWORD [12+EBX]
   313 0000035C FF 73 08                        	PUSH	DWORD [8+EBX]
   314 0000035F FF 33                           	PUSH	DWORD [EBX]
   315 00000361 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   316 00000366 83 C4 1C                        	ADD	ESP,28
   317 00000369 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
   318 0000036C 83 C0 08                        	ADD	EAX,8
   319 0000036F 89 43 08                        	MOV	DWORD [8+EBX],EAX
   320 00000372 3D 000000F8                     	CMP	EAX,248
   321 00000377 74 0D                           	JE	L45
   322 00000379                                 L35:
   323 00000379 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
   324 0000037C 83 E8 08                        	SUB	EAX,8
   325 0000037F 83 E0 1F                        	AND	EAX,31
   326 00000382 75 CA                           	JNE	L32
   327 00000384 EB BA                           	JMP	L30
   328 00000386                                 L45:
   329 00000386 53                              	PUSH	EBX
   330 00000387 E8 00000003                     	CALL	_cons_newline
   331 0000038C 58                              	POP	EAX
   332 0000038D EB EA                           	JMP	L35
   333 0000038F                                 	GLOBAL	_cons_newline
   334 0000038F                                 _cons_newline:
   335 0000038F 55                              	PUSH	EBP
   336 00000390 89 E5                           	MOV	EBP,ESP
   337 00000392 57                              	PUSH	EDI
   338 00000393 56                              	PUSH	ESI
   339 00000394 53                              	PUSH	EBX
   340 00000395 50                              	PUSH	EAX
   341 00000396 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   342 00000399 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   343 0000039C 8B 00                           	MOV	EAX,DWORD [EAX]
   344 0000039E 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   345 000003A1 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
   346 000003A4 3D 0000008B                     	CMP	EAX,139
   347 000003A9 7F 18                           	JG	L47
   348 000003AB 83 C0 10                        	ADD	EAX,16
   349 000003AE 89 42 0C                        	MOV	DWORD [12+EDX],EAX
   350 000003B1                                 L48:
   351 000003B1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   352 000003B4 C7 40 08 00000008               	MOV	DWORD [8+EAX],8
   353 000003BB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   354 000003BE 5B                              	POP	EBX
   355 000003BF 5E                              	POP	ESI
   356 000003C0 5F                              	POP	EDI
   357 000003C1 5D                              	POP	EBP
   358 000003C2 C3                              	RET
   359 000003C3                                 L47:
   360 000003C3 BF 0000001C                     	MOV	EDI,28
   361 000003C8                                 L58:
   362 000003C8 BE 00000008                     	MOV	ESI,8
   363 000003CD                                 L57:
   364 000003CD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   365 000003D0 89 FA                           	MOV	EDX,EDI
   366 000003D2 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   367 000003D5 8B 18                           	MOV	EBX,DWORD [EAX]
   368 000003D7 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   369 000003DA 0F AF C1                        	IMUL	EAX,ECX
   370 000003DD 0F AF D1                        	IMUL	EDX,ECX
   371 000003E0 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   372 000003E3 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   373 000003E6 46                              	INC	ESI
   374 000003E7 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   375 000003EA 81 FE 000000F7                  	CMP	ESI,247
   376 000003F0 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   377 000003F3 7E D8                           	JLE	L57
   378 000003F5 47                              	INC	EDI
   379 000003F6 81 FF 0000008B                  	CMP	EDI,139
   380 000003FC 7E CA                           	JLE	L58
   381 000003FE BF 0000008C                     	MOV	EDI,140
   382 00000403                                 L68:
   383 00000403 BE 00000008                     	MOV	ESI,8
   384 00000408                                 L67:
   385 00000408 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   386 0000040B 89 F8                           	MOV	EAX,EDI
   387 0000040D 89 D1                           	MOV	ECX,EDX
   388 0000040F 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   389 00000413 8B 12                           	MOV	EDX,DWORD [EDX]
   390 00000415 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   391 00000418 46                              	INC	ESI
   392 00000419 81 FE 000000F7                  	CMP	ESI,247
   393 0000041F C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   394 00000423 7E E3                           	JLE	L67
   395 00000425 47                              	INC	EDI
   396 00000426 81 FF 0000009B                  	CMP	EDI,155
   397 0000042C 7E D5                           	JLE	L68
   398 0000042E 68 0000009C                     	PUSH	156
   399 00000433 68 000000F8                     	PUSH	248
   400 00000438 6A 1C                           	PUSH	28
   401 0000043A 6A 08                           	PUSH	8
   402 0000043C 51                              	PUSH	ECX
   403 0000043D E8 [00000000]                   	CALL	_sheet_refresh
   404 00000442 83 C4 14                        	ADD	ESP,20
   405 00000445 E9 FFFFFF67                     	JMP	L48
   406 0000044A                                 	GLOBAL	_cons_putstr0
   407 0000044A                                 _cons_putstr0:
   408 0000044A 55                              	PUSH	EBP
   409 0000044B 89 E5                           	MOV	EBP,ESP
   410 0000044D 56                              	PUSH	ESI
   411 0000044E 53                              	PUSH	EBX
   412 0000044F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   413 00000452 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   414 00000455 80 3B 00                        	CMP	BYTE [EBX],0
   415 00000458 75 07                           	JNE	L82
   416 0000045A                                 L84:
   417 0000045A 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   418 0000045D 5B                              	POP	EBX
   419 0000045E 5E                              	POP	ESI
   420 0000045F 5D                              	POP	EBP
   421 00000460 C3                              	RET
   422 00000461                                 L82:
   423 00000461 6A 01                           	PUSH	1
   424 00000463 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   425 00000466 50                              	PUSH	EAX
   426 00000467 43                              	INC	EBX
   427 00000468 56                              	PUSH	ESI
   428 00000469 E8 FFFFFE7E                     	CALL	_cons_putchar
   429 0000046E 83 C4 0C                        	ADD	ESP,12
   430 00000471 80 3B 00                        	CMP	BYTE [EBX],0
   431 00000474 75 EB                           	JNE	L82
   432 00000476 EB E2                           	JMP	L84
   433 00000478                                 	GLOBAL	_cons_putstr1
   434 00000478                                 _cons_putstr1:
   435 00000478 55                              	PUSH	EBP
   436 00000479 89 E5                           	MOV	EBP,ESP
   437 0000047B 57                              	PUSH	EDI
   438 0000047C 56                              	PUSH	ESI
   439 0000047D 53                              	PUSH	EBX
   440 0000047E 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   441 00000481 31 DB                           	XOR	EBX,EBX
   442 00000483 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   443 00000486 39 F3                           	CMP	EBX,ESI
   444 00000488 7C 08                           	JL	L90
   445 0000048A                                 L92:
   446 0000048A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   447 0000048D 5B                              	POP	EBX
   448 0000048E 5E                              	POP	ESI
   449 0000048F 5F                              	POP	EDI
   450 00000490 5D                              	POP	EBP
   451 00000491 C3                              	RET
   452 00000492                                 L90:
   453 00000492 6A 01                           	PUSH	1
   454 00000494 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   455 00000498 50                              	PUSH	EAX
   456 00000499 43                              	INC	EBX
   457 0000049A FF 75 08                        	PUSH	DWORD [8+EBP]
   458 0000049D E8 FFFFFE4A                     	CALL	_cons_putchar
   459 000004A2 83 C4 0C                        	ADD	ESP,12
   460 000004A5 39 F3                           	CMP	EBX,ESI
   461 000004A7 7C E9                           	JL	L90
   462 000004A9 EB DF                           	JMP	L92
   463                                          [SECTION .data]
   464 00000002                                 LC1:
   465 00000002 6D 65 6D 00                     	DB	"mem",0x00
   466 00000006                                 LC2:
   467 00000006 63 6C 73 00                     	DB	"cls",0x00
   468 0000000A                                 LC3:
   469 0000000A 64 69 72 00                     	DB	"dir",0x00
   470 0000000E                                 LC4:
   471 0000000E 6C 73 00                        	DB	"ls",0x00
   472 00000011                                 LC5:
   473 00000011 74 79 70 65 20 00               	DB	"type ",0x00
   474 00000017                                 LC6:
   475 00000017 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000021 64 2E 0A 0A 00 
   476                                          [SECTION .text]
   477 000004AB                                 	GLOBAL	_cons_runcmd
   478 000004AB                                 _cons_runcmd:
   479 000004AB 55                              	PUSH	EBP
   480 000004AC 89 E5                           	MOV	EBP,ESP
   481 000004AE 57                              	PUSH	EDI
   482 000004AF 56                              	PUSH	ESI
   483 000004B0 BF [00000002]                   	MOV	EDI,LC1
   484 000004B5 53                              	PUSH	EBX
   485 000004B6 83 EC 0C                        	SUB	ESP,12
   486 000004B9 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   487 000004BC 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   488 000004BF 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   489 000004C2 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   490 000004C5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   491 000004C8 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   492 000004CB 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   493 000004CE 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   494 000004D1 B8 00000004                     	MOV	EAX,4
   495 000004D6 FC                              	CLD
   496 000004D7 89 C1                           	MOV	ECX,EAX
   497 000004D9 F3                              	REPE
   498 000004DA A6                              	CMPSB
   499 000004DB 0F 84 000000C0                  	JE	L105
   500 000004E1 B8 00000004                     	MOV	EAX,4
   501 000004E6 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   502 000004E9 FC                              	CLD
   503 000004EA BF [00000006]                   	MOV	EDI,LC2
   504 000004EF 89 C1                           	MOV	ECX,EAX
   505 000004F1 F3                              	REPE
   506 000004F2 A6                              	CMPSB
   507 000004F3 0F 84 0000009C                  	JE	L106
   508 000004F9 B8 00000004                     	MOV	EAX,4
   509 000004FE 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   510 00000501 FC                              	CLD
   511 00000502 BF [0000000A]                   	MOV	EDI,LC3
   512 00000507 89 C1                           	MOV	ECX,EAX
   513 00000509 F3                              	REPE
   514 0000050A A6                              	CMPSB
   515 0000050B 74 79                           	JE	L99
   516 0000050D B8 00000003                     	MOV	EAX,3
   517 00000512 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   518 00000515 BF [0000000E]                   	MOV	EDI,LC4
   519 0000051A 89 C1                           	MOV	ECX,EAX
   520 0000051C F3                              	REPE
   521 0000051D A6                              	CMPSB
   522 0000051E 74 66                           	JE	L99
   523 00000520 B8 00000005                     	MOV	EAX,5
   524 00000525 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   525 00000528 FC                              	CLD
   526 00000529 BF [00000011]                   	MOV	EDI,LC5
   527 0000052E 89 C1                           	MOV	ECX,EAX
   528 00000530 F3                              	REPE
   529 00000531 A6                              	CMPSB
   530 00000532 74 37                           	JE	L107
   531 00000534 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   532 00000537 80 38 00                        	CMP	BYTE [EAX],0
   533 0000053A 75 08                           	JNE	L108
   534 0000053C                                 L93:
   535 0000053C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   536 0000053F 5B                              	POP	EBX
   537 00000540 5E                              	POP	ESI
   538 00000541 5F                              	POP	EDI
   539 00000542 5D                              	POP	EBP
   540 00000543 C3                              	RET
   541 00000544                                 L108:
   542 00000544 50                              	PUSH	EAX
   543 00000545 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   544 00000548 53                              	PUSH	EBX
   545 00000549 E8 0000021E                     	CALL	_cmd_app
   546 0000054E 83 C4 0C                        	ADD	ESP,12
   547 00000551 85 C0                           	TEST	EAX,EAX
   548 00000553 75 E7                           	JNE	L93
   549 00000555 C7 45 0C [00000017]             	MOV	DWORD [12+EBP],LC6
   550 0000055C 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   551 0000055F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   552 00000562 5B                              	POP	EBX
   553 00000563 5E                              	POP	ESI
   554 00000564 5F                              	POP	EDI
   555 00000565 5D                              	POP	EBP
   556 00000566 E9 FFFFFEDF                     	JMP	_cons_putstr0
   557 0000056B                                 L107:
   558 0000056B 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   559 0000056E 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   560 00000571 89 45 10                        	MOV	DWORD [16+EBP],EAX
   561 00000574 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   562 00000577 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   563 0000057A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   564 0000057D 5B                              	POP	EBX
   565 0000057E 5E                              	POP	ESI
   566 0000057F 5F                              	POP	EDI
   567 00000580 5D                              	POP	EBP
   568 00000581 E9 00000156                     	JMP	_cmd_type
   569 00000586                                 L99:
   570 00000586 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   571 00000589 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   572 0000058C 5B                              	POP	EBX
   573 0000058D 5E                              	POP	ESI
   574 0000058E 5F                              	POP	EDI
   575 0000058F 5D                              	POP	EBP
   576 00000590 E9 000000B1                     	JMP	_cmd_dir
   577 00000595                                 L106:
   578 00000595 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   579 00000598 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   580 0000059B 5B                              	POP	EBX
   581 0000059C 5E                              	POP	ESI
   582 0000059D 5F                              	POP	EDI
   583 0000059E 5D                              	POP	EBP
   584 0000059F EB 4C                           	JMP	_cmd_cls
   585 000005A1                                 L105:
   586 000005A1 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   587 000005A4 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   588 000005A7 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   589 000005AA 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   590 000005AD 5B                              	POP	EBX
   591 000005AE 5E                              	POP	ESI
   592 000005AF 5F                              	POP	EDI
   593 000005B0 5D                              	POP	EBP
   594 000005B1 EB 00                           	JMP	_cmd_mem
   595                                          [SECTION .data]
   596 00000026                                 LC7:
   597 00000026 74 6F 74 61 6C 20 25 64 4D 42   	DB	"total %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       00000030 0A 66 72 65 65 20 25 64 4B 42 
       0000003A 0A 0A 00 
   598                                          [SECTION .text]
   599 000005B3                                 	GLOBAL	_cmd_mem
   600 000005B3                                 _cmd_mem:
   601 000005B3 55                              	PUSH	EBP
   602 000005B4 89 E5                           	MOV	EBP,ESP
   603 000005B6 53                              	PUSH	EBX
   604 000005B7 83 EC 40                        	SUB	ESP,64
   605 000005BA 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   606 000005BD C1 EB 14                        	SHR	EBX,20
   607 000005C0 68 003C0000                     	PUSH	3932160
   608 000005C5 E8 [00000000]                   	CALL	_memman_total
   609 000005CA C1 E8 0A                        	SHR	EAX,10
   610 000005CD 89 04 24                        	MOV	DWORD [ESP],EAX
   611 000005D0 53                              	PUSH	EBX
   612 000005D1 68 [00000026]                   	PUSH	LC7
   613 000005D6 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   614 000005D9 53                              	PUSH	EBX
   615 000005DA E8 [00000000]                   	CALL	_sprintf
   616 000005DF 53                              	PUSH	EBX
   617 000005E0 FF 75 08                        	PUSH	DWORD [8+EBP]
   618 000005E3 E8 FFFFFE62                     	CALL	_cons_putstr0
   619 000005E8 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   620 000005EB C9                              	LEAVE
   621 000005EC C3                              	RET
   622 000005ED                                 	GLOBAL	_cmd_cls
   623 000005ED                                 _cmd_cls:
   624 000005ED 55                              	PUSH	EBP
   625 000005EE 89 E5                           	MOV	EBP,ESP
   626 000005F0 57                              	PUSH	EDI
   627 000005F1 56                              	PUSH	ESI
   628 000005F2 BE 0000001C                     	MOV	ESI,28
   629 000005F7 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   630 000005FA 53                              	PUSH	EBX
   631 000005FB 8B 1F                           	MOV	EBX,DWORD [EDI]
   632 000005FD                                 L120:
   633 000005FD B9 00000008                     	MOV	ECX,8
   634 00000602                                 L119:
   635 00000602 89 F0                           	MOV	EAX,ESI
   636 00000604 8B 13                           	MOV	EDX,DWORD [EBX]
   637 00000606 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   638 0000060A 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   639 0000060D 41                              	INC	ECX
   640 0000060E 81 F9 000000F7                  	CMP	ECX,247
   641 00000614 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   642 00000618 7E E8                           	JLE	L119
   643 0000061A 46                              	INC	ESI
   644 0000061B 81 FE 0000009B                  	CMP	ESI,155
   645 00000621 7E DA                           	JLE	L120
   646 00000623 68 0000009C                     	PUSH	156
   647 00000628 68 000000F8                     	PUSH	248
   648 0000062D 6A 1C                           	PUSH	28
   649 0000062F 6A 08                           	PUSH	8
   650 00000631 53                              	PUSH	EBX
   651 00000632 E8 [00000000]                   	CALL	_sheet_refresh
   652 00000637 C7 47 0C 0000001C               	MOV	DWORD [12+EDI],28
   653 0000063E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   654 00000641 5B                              	POP	EBX
   655 00000642 5E                              	POP	ESI
   656 00000643 5F                              	POP	EDI
   657 00000644 5D                              	POP	EBP
   658 00000645 C3                              	RET
   659                                          [SECTION .data]
   660 0000003D                                 LC8:
   661 0000003D 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext %7d",0x0A,0x00
       00000047 78 74 20 25 37 64 0A 00 
   662                                          [SECTION .text]
   663 00000646                                 	GLOBAL	_cmd_dir
   664 00000646                                 _cmd_dir:
   665 00000646 55                              	PUSH	EBP
   666 00000647 89 E5                           	MOV	EBP,ESP
   667 00000649 57                              	PUSH	EDI
   668 0000064A 56                              	PUSH	ESI
   669 0000064B 31 F6                           	XOR	ESI,ESI
   670 0000064D 53                              	PUSH	EBX
   671 0000064E 31 DB                           	XOR	EBX,EBX
   672 00000650 83 EC 20                        	SUB	ESP,32
   673 00000653 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   674 00000656                                 L138:
   675 00000656 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   676 0000065C 84 C0                           	TEST	AL,AL
   677 0000065E 74 19                           	JE	L127
   678 00000660 3C E5                           	CMP	AL,-27
   679 00000662 74 09                           	JE	L128
   680 00000664 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   681 0000066B 74 1A                           	JE	L142
   682 0000066D                                 L128:
   683 0000066D 46                              	INC	ESI
   684 0000066E 83 C3 20                        	ADD	EBX,32
   685 00000671 81 FE 000000DF                  	CMP	ESI,223
   686 00000677 7E DD                           	JLE	L138
   687 00000679                                 L127:
   688 00000679 57                              	PUSH	EDI
   689 0000067A E8 FFFFFD10                     	CALL	_cons_newline
   690 0000067F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   691 00000682 5B                              	POP	EBX
   692 00000683 5E                              	POP	ESI
   693 00000684 5F                              	POP	EDI
   694 00000685 5D                              	POP	EBP
   695 00000686 C3                              	RET
   696 00000687                                 L142:
   697 00000687 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   698 0000068D 68 [0000003D]                   	PUSH	LC8
   699 00000692 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   700 00000695 50                              	PUSH	EAX
   701 00000696 E8 [00000000]                   	CALL	_sprintf
   702 0000069B 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   703 000006A1 31 C9                           	XOR	ECX,ECX
   704 000006A3 83 C4 0C                        	ADD	ESP,12
   705 000006A6                                 L137:
   706 000006A6 8A 02                           	MOV	AL,BYTE [EDX]
   707 000006A8 42                              	INC	EDX
   708 000006A9 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   709 000006AD 41                              	INC	ECX
   710 000006AE 83 F9 07                        	CMP	ECX,7
   711 000006B1 7E F3                           	JLE	L137
   712 000006B3 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   713 000006B9 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   714 000006BC 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   715 000006C2 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   716 000006C5 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   717 000006CB 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   718 000006CE 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   719 000006D1 50                              	PUSH	EAX
   720 000006D2 57                              	PUSH	EDI
   721 000006D3 E8 FFFFFD72                     	CALL	_cons_putstr0
   722 000006D8 58                              	POP	EAX
   723 000006D9 5A                              	POP	EDX
   724 000006DA EB 91                           	JMP	L128
   725                                          [SECTION .data]
   726 0000004F                                 LC9:
   727 0000004F 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       00000059 6F 75 6E 64 2E 0A 00 
   728                                          [SECTION .text]
   729 000006DC                                 	GLOBAL	_cmd_type
   730 000006DC                                 _cmd_type:
   731 000006DC 55                              	PUSH	EBP
   732 000006DD 89 E5                           	MOV	EBP,ESP
   733 000006DF 57                              	PUSH	EDI
   734 000006E0 56                              	PUSH	ESI
   735 000006E1 53                              	PUSH	EBX
   736 000006E2 56                              	PUSH	ESI
   737 000006E3 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   738 000006E6 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   739 000006E9 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   740 000006EC 68 000000E0                     	PUSH	224
   741 000006F1 68 00102600                     	PUSH	1058304
   742 000006F6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   743 000006F9 83 C0 05                        	ADD	EAX,5
   744 000006FC 50                              	PUSH	EAX
   745 000006FD E8 [00000000]                   	CALL	_file_search
   746 00000702 83 C4 0C                        	ADD	ESP,12
   747 00000705 89 C6                           	MOV	ESI,EAX
   748 00000707 85 C0                           	TEST	EAX,EAX
   749 00000709 74 52                           	JE	L144
   750 0000070B FF 70 1C                        	PUSH	DWORD [28+EAX]
   751 0000070E 68 003C0000                     	PUSH	3932160
   752 00000713 E8 [00000000]                   	CALL	_memman_alloc_4k
   753 00000718 68 00103E00                     	PUSH	1064448
   754 0000071D FF 75 F0                        	PUSH	DWORD [-16+EBP]
   755 00000720 50                              	PUSH	EAX
   756 00000721 89 C3                           	MOV	EBX,EAX
   757 00000723 FF 76 1C                        	PUSH	DWORD [28+ESI]
   758 00000726 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   759 0000072A 50                              	PUSH	EAX
   760 0000072B E8 [00000000]                   	CALL	_file_loadfile
   761 00000730 FF 76 1C                        	PUSH	DWORD [28+ESI]
   762 00000733 53                              	PUSH	EBX
   763 00000734 57                              	PUSH	EDI
   764 00000735 E8 FFFFFD3E                     	CALL	_cons_putstr1
   765 0000073A 83 C4 28                        	ADD	ESP,40
   766 0000073D FF 76 1C                        	PUSH	DWORD [28+ESI]
   767 00000740 53                              	PUSH	EBX
   768 00000741 68 003C0000                     	PUSH	3932160
   769 00000746 E8 [00000000]                   	CALL	_memman_free_4k
   770 0000074B 83 C4 0C                        	ADD	ESP,12
   771 0000074E                                 L145:
   772 0000074E 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   773 00000751 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   774 00000754 5B                              	POP	EBX
   775 00000755 5E                              	POP	ESI
   776 00000756 5F                              	POP	EDI
   777 00000757 5D                              	POP	EBP
   778 00000758 E9 FFFFFC32                     	JMP	_cons_newline
   779 0000075D                                 L144:
   780 0000075D 68 [0000004F]                   	PUSH	LC9
   781 00000762 57                              	PUSH	EDI
   782 00000763 E8 FFFFFCE2                     	CALL	_cons_putstr0
   783 00000768 59                              	POP	ECX
   784 00000769 5B                              	POP	EBX
   785 0000076A EB E2                           	JMP	L145
   786                                          [SECTION .data]
   787 00000060                                 LC10:
   788 00000060 48 61 72 69 00                  	DB	"Hari",0x00
   789 00000065                                 LC11:
   790 00000065 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       0000006F 66 6F 72 6D 61 74 20 65 72 72 
       00000079 6F 72 2E 0A 00 
   791                                          [SECTION .text]
   792 0000076C                                 	GLOBAL	_cmd_app
   793 0000076C                                 _cmd_app:
   794 0000076C 55                              	PUSH	EBP
   795 0000076D 89 E5                           	MOV	EBP,ESP
   796 0000076F 57                              	PUSH	EDI
   797 00000770 56                              	PUSH	ESI
   798 00000771 53                              	PUSH	EBX
   799 00000772 31 DB                           	XOR	EBX,EBX
   800 00000774 83 EC 38                        	SUB	ESP,56
   801 00000777 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   802 0000077A E8 [00000000]                   	CALL	_task_now
   803 0000077F 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
   804 00000782                                 L152:
   805 00000782 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
   806 00000785 3C 20                           	CMP	AL,32
   807 00000787 7E 0A                           	JLE	L148
   808 00000789 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   809 0000078D 43                              	INC	EBX
   810 0000078E 83 FB 0C                        	CMP	EBX,12
   811 00000791 7E EF                           	JLE	L152
   812 00000793                                 L148:
   813 00000793 68 000000E0                     	PUSH	224
   814 00000798 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   815 0000079B 68 00102600                     	PUSH	1058304
   816 000007A0 56                              	PUSH	ESI
   817 000007A1 C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   818 000007A6 E8 [00000000]                   	CALL	_file_search
   819 000007AB 83 C4 0C                        	ADD	ESP,12
   820 000007AE 85 C0                           	TEST	EAX,EAX
   821 000007B0 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   822 000007B3 0F 84 00000173                  	JE	L174
   823 000007B9                                 L173:
   824 000007B9 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
   825 000007BC FF 70 1C                        	PUSH	DWORD [28+EAX]
   826 000007BF 68 003C0000                     	PUSH	3932160
   827 000007C4 E8 [00000000]                   	CALL	_memman_alloc_4k
   828 000007C9 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   829 000007CC 68 00103E00                     	PUSH	1064448
   830 000007D1 FF 75 0C                        	PUSH	DWORD [12+EBP]
   831 000007D4 50                              	PUSH	EAX
   832 000007D5 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   833 000007D8 FF 72 1C                        	PUSH	DWORD [28+EDX]
   834 000007DB 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
   835 000007DF 50                              	PUSH	EAX
   836 000007E0 E8 [00000000]                   	CALL	_file_loadfile
   837 000007E5 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   838 000007E8 83 C4 1C                        	ADD	ESP,28
   839 000007EB 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
   840 000007EF 76 1F                           	JBE	L155
   841 000007F1 8B 75 BC                        	MOV	ESI,DWORD [-68+EBP]
   842 000007F4 B8 [00000060]                   	MOV	EAX,LC10
   843 000007F9 FC                              	CLD
   844 000007FA 83 C6 04                        	ADD	ESI,4
   845 000007FD B9 00000004                     	MOV	ECX,4
   846 00000802 89 C7                           	MOV	EDI,EAX
   847 00000804 F3                              	REPE
   848 00000805 A6                              	CMPSB
   849 00000806 75 08                           	JNE	L155
   850 00000808 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
   851 0000080B 80 38 00                        	CMP	BYTE [EAX],0
   852 0000080E 74 37                           	JE	L175
   853 00000810                                 L155:
   854 00000810 68 [00000065]                   	PUSH	LC11
   855 00000815 FF 75 08                        	PUSH	DWORD [8+EBP]
   856 00000818 E8 FFFFFC2D                     	CALL	_cons_putstr0
   857 0000081D 5F                              	POP	EDI
   858 0000081E 58                              	POP	EAX
   859 0000081F                                 L167:
   860 0000081F 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   861 00000822 FF 72 1C                        	PUSH	DWORD [28+EDX]
   862 00000825 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   863 00000828 68 003C0000                     	PUSH	3932160
   864 0000082D E8 [00000000]                   	CALL	_memman_free_4k
   865 00000832 FF 75 08                        	PUSH	DWORD [8+EBP]
   866 00000835 E8 FFFFFB55                     	CALL	_cons_newline
   867 0000083A B8 00000001                     	MOV	EAX,1
   868 0000083F                                 L146:
   869 0000083F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   870 00000842 5B                              	POP	EBX
   871 00000843 5E                              	POP	ESI
   872 00000844 5F                              	POP	EDI
   873 00000845 5D                              	POP	EBP
   874 00000846 C3                              	RET
   875 00000847                                 L175:
   876 00000847 8B 10                           	MOV	EDX,DWORD [EAX]
   877 00000849 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
   878 0000084C 8B 58 10                        	MOV	EBX,DWORD [16+EAX]
   879 0000084F 8B 70 14                        	MOV	ESI,DWORD [20+EAX]
   880 00000852 52                              	PUSH	EDX
   881 00000853 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
   882 00000856 68 003C0000                     	PUSH	3932160
   883 0000085B 89 7D C0                        	MOV	DWORD [-64+EBP],EDI
   884 0000085E E8 [00000000]                   	CALL	_memman_alloc_4k
   885 00000863 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   886 00000866 A3 00000FE8                     	MOV	DWORD [4072],EAX
   887 0000086B 68 000040FA                     	PUSH	16634
   888 00000870 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   889 00000873 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
   890 00000876 8B 42 1C                        	MOV	EAX,DWORD [28+EDX]
   891 00000879 48                              	DEC	EAX
   892 0000087A 50                              	PUSH	EAX
   893 0000087B 68 00271F58                     	PUSH	2563928
   894 00000880 E8 [00000000]                   	CALL	_set_segmdesc
   895 00000885 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
   896 00000888 68 000040F2                     	PUSH	16626
   897 0000088D 48                              	DEC	EAX
   898 0000088E FF 75 CC                        	PUSH	DWORD [-52+EBP]
   899 00000891 50                              	PUSH	EAX
   900 00000892 68 00271F60                     	PUSH	2563936
   901 00000897 E8 [00000000]                   	CALL	_set_segmdesc
   902 0000089C 83 C4 28                        	ADD	ESP,40
   903 0000089F 85 DB                           	TEST	EBX,EBX
   904 000008A1 7E 14                           	JLE	L170
   905 000008A3 89 F9                           	MOV	ECX,EDI
   906 000008A5 8B 7D BC                        	MOV	EDI,DWORD [-68+EBP]
   907 000008A8 03 4D CC                        	ADD	ECX,DWORD [-52+EBP]
   908 000008AB 8D 14 37                        	LEA	EDX,DWORD [EDI+ESI*1]
   909 000008AE                                 L160:
   910 000008AE 8A 02                           	MOV	AL,BYTE [EDX]
   911 000008B0 42                              	INC	EDX
   912 000008B1 88 01                           	MOV	BYTE [ECX],AL
   913 000008B3 41                              	INC	ECX
   914 000008B4 4B                              	DEC	EBX
   915 000008B5 75 F7                           	JNE	L160
   916 000008B7                                 L170:
   917 000008B7 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   918 000008BA BB 000000FF                     	MOV	EBX,255
   919 000008BF 83 C0 30                        	ADD	EAX,48
   920 000008C2 50                              	PUSH	EAX
   921 000008C3 68 00001F60                     	PUSH	8032
   922 000008C8 FF 75 C0                        	PUSH	DWORD [-64+EBP]
   923 000008CB 68 00001F58                     	PUSH	8024
   924 000008D0 6A 1B                           	PUSH	27
   925 000008D2 E8 [00000000]                   	CALL	_start_app
   926 000008D7 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   927 000008DD 83 C4 14                        	ADD	ESP,20
   928 000008E0 81 C6 00000414                  	ADD	ESI,1044
   929 000008E6                                 L166:
   930 000008E6 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
   931 000008E9 83 E0 11                        	AND	EAX,17
   932 000008EC 83 F8 11                        	CMP	EAX,17
   933 000008EF 74 2A                           	JE	L176
   934 000008F1                                 L163:
   935 000008F1 83 C6 28                        	ADD	ESI,40
   936 000008F4 4B                              	DEC	EBX
   937 000008F5 79 EF                           	JNS	L166
   938 000008F7 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   939 000008FA 83 C0 10                        	ADD	EAX,16
   940 000008FD 50                              	PUSH	EAX
   941 000008FE E8 [00000000]                   	CALL	_timer_cancelall
   942 00000903 FF 75 C4                        	PUSH	DWORD [-60+EBP]
   943 00000906 FF 75 CC                        	PUSH	DWORD [-52+EBP]
   944 00000909 68 003C0000                     	PUSH	3932160
   945 0000090E E8 [00000000]                   	CALL	_memman_free_4k
   946 00000913 83 C4 10                        	ADD	ESP,16
   947 00000916 E9 FFFFFF04                     	JMP	L167
   948 0000091B                                 L176:
   949 0000091B 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   950 0000091E 39 46 24                        	CMP	DWORD [36+ESI],EAX
   951 00000921 75 CE                           	JNE	L163
   952 00000923 56                              	PUSH	ESI
   953 00000924 E8 [00000000]                   	CALL	_sheet_free
   954 00000929 58                              	POP	EAX
   955 0000092A EB C5                           	JMP	L163
   956 0000092C                                 L174:
   957 0000092C 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
   958 00000931 74 2F                           	JE	L153
   959 00000933 68 000000E0                     	PUSH	224
   960 00000938 68 00102600                     	PUSH	1058304
   961 0000093D 56                              	PUSH	ESI
   962 0000093E C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
   963 00000943 C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
   964 00000948 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
   965 0000094D C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
   966 00000952 C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
   967 00000957 E8 [00000000]                   	CALL	_file_search
   968 0000095C 83 C4 0C                        	ADD	ESP,12
   969 0000095F 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   970 00000962                                 L153:
   971 00000962 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
   972 00000966 0F 85 FFFFFE4D                  	JNE	L173
   973 0000096C 31 C0                           	XOR	EAX,EAX
   974 0000096E E9 FFFFFECC                     	JMP	L146
   975 00000973                                 	GLOBAL	_hrb_api
   976 00000973                                 _hrb_api:
   977 00000973 55                              	PUSH	EBP
   978 00000974 89 E5                           	MOV	EBP,ESP
   979 00000976 57                              	PUSH	EDI
   980 00000977 56                              	PUSH	ESI
   981 00000978 53                              	PUSH	EBX
   982 00000979 57                              	PUSH	EDI
   983 0000097A 57                              	PUSH	EDI
   984 0000097B 8B 75 1C                        	MOV	ESI,DWORD [28+EBP]
   985 0000097E 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
   986 00000981 8B 3D 00000FE8                  	MOV	EDI,DWORD [4072]
   987 00000987 E8 [00000000]                   	CALL	_task_now
   988 0000098C 83 FE 01                        	CMP	ESI,1
   989 0000098F 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   990 00000992 A1 00000FEC                     	MOV	EAX,DWORD [4076]
   991 00000997 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   992 0000099A A1 00000FE4                     	MOV	EAX,DWORD [4068]
   993 0000099F 0F 84 00000357                  	JE	L237
   994 000009A5 83 FE 02                        	CMP	ESI,2
   995 000009A8 0F 84 0000033D                  	JE	L238
   996 000009AE 83 FE 03                        	CMP	ESI,3
   997 000009B1 0F 84 00000320                  	JE	L239
   998 000009B7 83 FE 04                        	CMP	ESI,4
   999 000009BA 0F 84 0000030C                  	JE	L240
  1000 000009C0 83 FE 05                        	CMP	ESI,5
  1001 000009C3 0F 84 000002AE                  	JE	L241
  1002 000009C9 83 FE 06                        	CMP	ESI,6
  1003 000009CC 0F 84 0000025F                  	JE	L242
  1004 000009D2 83 FE 07                        	CMP	ESI,7
  1005 000009D5 0F 84 0000022E                  	JE	L243
  1006 000009DB 83 FE 08                        	CMP	ESI,8
  1007 000009DE 0F 84 00000205                  	JE	L244
  1008 000009E4 83 FE 09                        	CMP	ESI,9
  1009 000009E7 0F 84 000001E1                  	JE	L245
  1010 000009ED 83 FE 0A                        	CMP	ESI,10
  1011 000009F0 0F 84 000001BD                  	JE	L246
  1012 000009F6 83 FE 0B                        	CMP	ESI,11
  1013 000009F9 0F 84 00000182                  	JE	L247
  1014 000009FF 83 FE 0C                        	CMP	ESI,12
  1015 00000A02 0F 84 0000016A                  	JE	L248
  1016 00000A08 83 FE 0D                        	CMP	ESI,13
  1017 00000A0B 0F 84 0000011D                  	JE	L249
  1018 00000A11 83 FE 0E                        	CMP	ESI,14
  1019 00000A14 0F 84 00000109                  	JE	L250
  1020 00000A1A 83 FE 0F                        	CMP	ESI,15
  1021 00000A1D 74 5D                           	JE	L211
  1022 00000A1F 83 FE 10                        	CMP	ESI,16
  1023 00000A22 74 4A                           	JE	L251
  1024 00000A24 83 FE 11                        	CMP	ESI,17
  1025 00000A27 74 2A                           	JE	L252
  1026 00000A29 83 FE 12                        	CMP	ESI,18
  1027 00000A2C 74 18                           	JE	L253
  1028 00000A2E 83 FE 13                        	CMP	ESI,19
  1029 00000A31 74 0A                           	JE	L254
  1030 00000A33                                 L179:
  1031 00000A33 31 C0                           	XOR	EAX,EAX
  1032 00000A35                                 L177:
  1033 00000A35 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1034 00000A38 5B                              	POP	EBX
  1035 00000A39 5E                              	POP	ESI
  1036 00000A3A 5F                              	POP	EDI
  1037 00000A3B 5D                              	POP	EBP
  1038 00000A3C C3                              	RET
  1039 00000A3D                                 L254:
  1040 00000A3D 53                              	PUSH	EBX
  1041 00000A3E E8 [00000000]                   	CALL	_timer_free
  1042 00000A43                                 L229:
  1043 00000A43 58                              	POP	EAX
  1044 00000A44 EB ED                           	JMP	L179
  1045 00000A46                                 L253:
  1046 00000A46 FF 75 24                        	PUSH	DWORD [36+EBP]
  1047 00000A49 53                              	PUSH	EBX
  1048 00000A4A E8 [00000000]                   	CALL	_timer_settime
  1049 00000A4F                                 L232:
  1050 00000A4F 58                              	POP	EAX
  1051 00000A50 5A                              	POP	EDX
  1052 00000A51 EB E0                           	JMP	L179
  1053 00000A53                                 L252:
  1054 00000A53 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1055 00000A56 05 00000100                     	ADD	EAX,256
  1056 00000A5B 50                              	PUSH	EAX
  1057 00000A5C 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1058 00000A5F 83 C0 10                        	ADD	EAX,16
  1059 00000A62 50                              	PUSH	EAX
  1060 00000A63 53                              	PUSH	EBX
  1061 00000A64 E8 [00000000]                   	CALL	_timer_init
  1062 00000A69                                 L231:
  1063 00000A69 83 C4 0C                        	ADD	ESP,12
  1064 00000A6C EB C5                           	JMP	L179
  1065 00000A6E                                 L251:
  1066 00000A6E E8 [00000000]                   	CALL	_timer_alloc
  1067 00000A73 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1068 00000A76 C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1069 00000A7A EB B7                           	JMP	L179
  1070 00000A7C                                 L211:
  1071 00000A7C E8 [00000000]                   	CALL	_io_cli
  1072 00000A81 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1073 00000A84 83 C0 10                        	ADD	EAX,16
  1074 00000A87 50                              	PUSH	EAX
  1075 00000A88 E8 [00000000]                   	CALL	_fifo32_status
  1076 00000A8D 5E                              	POP	ESI
  1077 00000A8E 85 C0                           	TEST	EAX,EAX
  1078 00000A90 75 0F                           	JNE	L214
  1079 00000A92 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1080 00000A96 74 7A                           	JE	L215
  1081 00000A98 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1082 00000A9B E8 [00000000]                   	CALL	_task_sleep
  1083 00000AA0 5B                              	POP	EBX
  1084 00000AA1                                 L214:
  1085 00000AA1 8B 75 F0                        	MOV	ESI,DWORD [-16+EBP]
  1086 00000AA4 83 C6 10                        	ADD	ESI,16
  1087 00000AA7 56                              	PUSH	ESI
  1088 00000AA8 E8 [00000000]                   	CALL	_fifo32_get
  1089 00000AAD 89 C3                           	MOV	EBX,EAX
  1090 00000AAF E8 [00000000]                   	CALL	_io_sti
  1091 00000AB4 59                              	POP	ECX
  1092 00000AB5 83 FB 01                        	CMP	EBX,1
  1093 00000AB8 7E 38                           	JLE	L255
  1094 00000ABA                                 L217:
  1095 00000ABA 83 FB 02                        	CMP	EBX,2
  1096 00000ABD 74 27                           	JE	L256
  1097 00000ABF                                 L218:
  1098 00000ABF 83 FB 03                        	CMP	EBX,3
  1099 00000AC2 74 16                           	JE	L257
  1100 00000AC4                                 L219:
  1101 00000AC4 81 FB 000000FF                  	CMP	EBX,255
  1102 00000ACA 7E B0                           	JLE	L211
  1103 00000ACC 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1104 00000AD2 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1105 00000AD5 E9 FFFFFF59                     	JMP	L179
  1106 00000ADA                                 L257:
  1107 00000ADA 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
  1108 00000ADD C7 41 10 FFFFFFFF               	MOV	DWORD [16+ECX],-1
  1109 00000AE4 EB DE                           	JMP	L219
  1110 00000AE6                                 L256:
  1111 00000AE6 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  1112 00000AE9 C7 42 10 00000007               	MOV	DWORD [16+EDX],7
  1113 00000AF0 EB CD                           	JMP	L218
  1114 00000AF2                                 L255:
  1115 00000AF2 6A 01                           	PUSH	1
  1116 00000AF4 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
  1117 00000AF7 56                              	PUSH	ESI
  1118 00000AF8 FF 71 04                        	PUSH	DWORD [4+ECX]
  1119 00000AFB E8 [00000000]                   	CALL	_timer_init
  1120 00000B00 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1121 00000B03 6A 32                           	PUSH	50
  1122 00000B05 FF 70 04                        	PUSH	DWORD [4+EAX]
  1123 00000B08 E8 [00000000]                   	CALL	_timer_settime
  1124 00000B0D 83 C4 14                        	ADD	ESP,20
  1125 00000B10 EB A8                           	JMP	L217
  1126 00000B12                                 L215:
  1127 00000B12 E8 [00000000]                   	CALL	_io_sti
  1128 00000B17 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  1129 00000B1E E9 FFFFFF10                     	JMP	L179
  1130 00000B23                                 L250:
  1131 00000B23 53                              	PUSH	EBX
  1132 00000B24 E8 [00000000]                   	CALL	_sheet_free
  1133 00000B29 E9 FFFFFF15                     	JMP	L229
  1134 00000B2E                                 L249:
  1135 00000B2E FF 75 10                        	PUSH	DWORD [16+EBP]
  1136 00000B31 FF 75 08                        	PUSH	DWORD [8+EBP]
  1137 00000B34 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1138 00000B37 FF 75 20                        	PUSH	DWORD [32+EBP]
  1139 00000B3A 89 DE                           	MOV	ESI,EBX
  1140 00000B3C FF 75 24                        	PUSH	DWORD [36+EBP]
  1141 00000B3F 83 E6 FE                        	AND	ESI,-2
  1142 00000B42 56                              	PUSH	ESI
  1143 00000B43 E8 0000025A                     	CALL	_hrb_api_linewin
  1144 00000B48 83 C4 18                        	ADD	ESP,24
  1145 00000B4B                                 L236:
  1146 00000B4B 83 E3 01                        	AND	EBX,1
  1147 00000B4E 0F 85 FFFFFEDF                  	JNE	L179
  1148 00000B54 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1149 00000B57 40                              	INC	EAX
  1150 00000B58 50                              	PUSH	EAX
  1151 00000B59 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1152 00000B5C 40                              	INC	EAX
  1153 00000B5D 50                              	PUSH	EAX
  1154 00000B5E FF 75 20                        	PUSH	DWORD [32+EBP]
  1155 00000B61 FF 75 24                        	PUSH	DWORD [36+EBP]
  1156 00000B64                                 L234:
  1157 00000B64 56                              	PUSH	ESI
  1158 00000B65                                 L230:
  1159 00000B65 E8 [00000000]                   	CALL	_sheet_refresh
  1160 00000B6A                                 L233:
  1161 00000B6A 83 C4 14                        	ADD	ESP,20
  1162 00000B6D E9 FFFFFEC1                     	JMP	L179
  1163 00000B72                                 L248:
  1164 00000B72 FF 75 08                        	PUSH	DWORD [8+EBP]
  1165 00000B75 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1166 00000B78 FF 75 20                        	PUSH	DWORD [32+EBP]
  1167 00000B7B FF 75 24                        	PUSH	DWORD [36+EBP]
  1168 00000B7E 53                              	PUSH	EBX
  1169 00000B7F EB E4                           	JMP	L230
  1170 00000B81                                 L247:
  1171 00000B81 89 DE                           	MOV	ESI,EBX
  1172 00000B83 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1173 00000B86 83 E6 FE                        	AND	ESI,-2
  1174 00000B89 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1175 00000B8C 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1176 00000B90 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1177 00000B93 8B 0E                           	MOV	ECX,DWORD [ESI]
  1178 00000B95 83 E3 01                        	AND	EBX,1
  1179 00000B98 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1180 00000B9B 0F 85 FFFFFE92                  	JNE	L179
  1181 00000BA1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1182 00000BA4 40                              	INC	EAX
  1183 00000BA5 50                              	PUSH	EAX
  1184 00000BA6 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1185 00000BA9 40                              	INC	EAX
  1186 00000BAA 50                              	PUSH	EAX
  1187 00000BAB FF 75 08                        	PUSH	DWORD [8+EBP]
  1188 00000BAE FF 75 0C                        	PUSH	DWORD [12+EBP]
  1189 00000BB1 EB B1                           	JMP	L234
  1190 00000BB3                                 L246:
  1191 00000BB3 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1192 00000BB6 83 C0 0F                        	ADD	EAX,15
  1193 00000BB9 83 E0 F0                        	AND	EAX,-16
  1194 00000BBC 50                              	PUSH	EAX
  1195 00000BBD 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1196 00000BC0 FF 75 24                        	PUSH	DWORD [36+EBP]
  1197 00000BC3 50                              	PUSH	EAX
  1198 00000BC4 E8 [00000000]                   	CALL	_memman_free
  1199 00000BC9 E9 FFFFFE9B                     	JMP	L231
  1200 00000BCE                                 L245:
  1201 00000BCE 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1202 00000BD1 83 C0 0F                        	ADD	EAX,15
  1203 00000BD4 83 E0 F0                        	AND	EAX,-16
  1204 00000BD7 50                              	PUSH	EAX
  1205 00000BD8 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1206 00000BDB 50                              	PUSH	EAX
  1207 00000BDC E8 [00000000]                   	CALL	_memman_alloc
  1208 00000BE1 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1209 00000BE4 E9 FFFFFE66                     	JMP	L232
  1210 00000BE9                                 L244:
  1211 00000BE9 01 FB                           	ADD	EBX,EDI
  1212 00000BEB 53                              	PUSH	EBX
  1213 00000BEC E8 [00000000]                   	CALL	_memman_init
  1214 00000BF1 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1215 00000BF5 FF 75 20                        	PUSH	DWORD [32+EBP]
  1216 00000BF8 FF 75 24                        	PUSH	DWORD [36+EBP]
  1217 00000BFB 53                              	PUSH	EBX
  1218 00000BFC E8 [00000000]                   	CALL	_memman_free
  1219 00000C01 83 C4 10                        	ADD	ESP,16
  1220 00000C04 E9 FFFFFE2A                     	JMP	L179
  1221 00000C09                                 L243:
  1222 00000C09 FF 75 08                        	PUSH	DWORD [8+EBP]
  1223 00000C0C FF 75 0C                        	PUSH	DWORD [12+EBP]
  1224 00000C0F FF 75 20                        	PUSH	DWORD [32+EBP]
  1225 00000C12 89 DE                           	MOV	ESI,EBX
  1226 00000C14 FF 75 24                        	PUSH	DWORD [36+EBP]
  1227 00000C17 83 E6 FE                        	AND	ESI,-2
  1228 00000C1A 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1229 00000C1E 50                              	PUSH	EAX
  1230 00000C1F FF 76 04                        	PUSH	DWORD [4+ESI]
  1231 00000C22 FF 36                           	PUSH	DWORD [ESI]
  1232 00000C24 E8 [00000000]                   	CALL	_boxfill8
  1233 00000C29 83 C4 1C                        	ADD	ESP,28
  1234 00000C2C E9 FFFFFF1A                     	JMP	L236
  1235 00000C31                                 L242:
  1236 00000C31 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1237 00000C34 89 DE                           	MOV	ESI,EBX
  1238 00000C36 01 F8                           	ADD	EAX,EDI
  1239 00000C38 83 E6 FE                        	AND	ESI,-2
  1240 00000C3B 50                              	PUSH	EAX
  1241 00000C3C 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1242 00000C40 50                              	PUSH	EAX
  1243 00000C41 FF 75 08                        	PUSH	DWORD [8+EBP]
  1244 00000C44 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1245 00000C47 FF 76 04                        	PUSH	DWORD [4+ESI]
  1246 00000C4A FF 36                           	PUSH	DWORD [ESI]
  1247 00000C4C E8 [00000000]                   	CALL	_putfonts8_asc
  1248 00000C51 83 C4 18                        	ADD	ESP,24
  1249 00000C54 83 E3 01                        	AND	EBX,1
  1250 00000C57 0F 85 FFFFFDD6                  	JNE	L179
  1251 00000C5D 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  1252 00000C60 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1253 00000C63 8B 4D 20                        	MOV	ECX,DWORD [32+EBP]
  1254 00000C66 83 C0 10                        	ADD	EAX,16
  1255 00000C69 50                              	PUSH	EAX
  1256 00000C6A 8D 04 CA                        	LEA	EAX,DWORD [EDX+ECX*8]
  1257 00000C6D 50                              	PUSH	EAX
  1258 00000C6E FF 75 08                        	PUSH	DWORD [8+EBP]
  1259 00000C71 52                              	PUSH	EDX
  1260 00000C72 E9 FFFFFEED                     	JMP	L234
  1261 00000C77                                 L241:
  1262 00000C77 50                              	PUSH	EAX
  1263 00000C78 01 FB                           	ADD	EBX,EDI
  1264 00000C7A E8 [00000000]                   	CALL	_sheet_alloc
  1265 00000C7F 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
  1266 00000C82 89 C6                           	MOV	ESI,EAX
  1267 00000C84 89 50 24                        	MOV	DWORD [36+EAX],EDX
  1268 00000C87 83 48 1C 10                     	OR	DWORD [28+EAX],16
  1269 00000C8B FF 75 24                        	PUSH	DWORD [36+EBP]
  1270 00000C8E FF 75 08                        	PUSH	DWORD [8+EBP]
  1271 00000C91 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1272 00000C94 53                              	PUSH	EBX
  1273 00000C95 50                              	PUSH	EAX
  1274 00000C96 E8 [00000000]                   	CALL	_sheet_setbuf
  1275 00000C9B 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1276 00000C9E 6A 00                           	PUSH	0
  1277 00000CA0 01 F8                           	ADD	EAX,EDI
  1278 00000CA2 50                              	PUSH	EAX
  1279 00000CA3 FF 75 08                        	PUSH	DWORD [8+EBP]
  1280 00000CA6 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1281 00000CA9 53                              	PUSH	EBX
  1282 00000CAA E8 [00000000]                   	CALL	_make_window8
  1283 00000CAF 83 C4 2C                        	ADD	ESP,44
  1284 00000CB2 6A 32                           	PUSH	50
  1285 00000CB4 6A 64                           	PUSH	100
  1286 00000CB6 56                              	PUSH	ESI
  1287 00000CB7 E8 [00000000]                   	CALL	_sheet_slide
  1288 00000CBC 6A 03                           	PUSH	3
  1289 00000CBE 56                              	PUSH	ESI
  1290 00000CBF E8 [00000000]                   	CALL	_sheet_updown
  1291 00000CC4 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1292 00000CC7 E9 FFFFFE9E                     	JMP	L233
  1293 00000CCC                                 L240:
  1294 00000CCC 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1295 00000CCF 83 C0 30                        	ADD	EAX,48
  1296 00000CD2 E9 FFFFFD5E                     	JMP	L177
  1297 00000CD7                                 L239:
  1298 00000CD7 FF 75 20                        	PUSH	DWORD [32+EBP]
  1299 00000CDA 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1300 00000CDD 50                              	PUSH	EAX
  1301 00000CDE FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1302 00000CE1 E8 FFFFF792                     	CALL	_cons_putstr1
  1303 00000CE6 E9 FFFFFD7E                     	JMP	L231
  1304 00000CEB                                 L238:
  1305 00000CEB 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1306 00000CEE 50                              	PUSH	EAX
  1307 00000CEF FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1308 00000CF2 E8 FFFFF753                     	CALL	_cons_putstr0
  1309 00000CF7 E9 FFFFFD53                     	JMP	L232
  1310 00000CFC                                 L237:
  1311 00000CFC 6A 01                           	PUSH	1
  1312 00000CFE 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1313 00000D02 50                              	PUSH	EAX
  1314 00000D03 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1315 00000D06 E8 FFFFF5E1                     	CALL	_cons_putchar
  1316 00000D0B E9 FFFFFD59                     	JMP	L231
  1317                                          [SECTION .data]
  1318 0000007E                                 LC12:
  1319 0000007E 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       00000088 20 53 74 61 63 6B 20 45 78 63 
       00000092 65 70 74 69 6F 6E 2E 0A 00 
  1320 0000009B                                 LC13:
  1321 0000009B 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000A5 0A 00 
  1322                                          [SECTION .text]
  1323 00000D10                                 	GLOBAL	_inthandler0c
  1324 00000D10                                 _inthandler0c:
  1325 00000D10 55                              	PUSH	EBP
  1326 00000D11 89 E5                           	MOV	EBP,ESP
  1327 00000D13 57                              	PUSH	EDI
  1328 00000D14 56                              	PUSH	ESI
  1329 00000D15 53                              	PUSH	EBX
  1330 00000D16 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1331 00000D19 83 EC 20                        	SUB	ESP,32
  1332 00000D1C 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1333 00000D22 E8 [00000000]                   	CALL	_task_now
  1334 00000D27 68 [0000007E]                   	PUSH	LC12
  1335 00000D2C 89 C6                           	MOV	ESI,EAX
  1336 00000D2E 57                              	PUSH	EDI
  1337 00000D2F 83 C6 30                        	ADD	ESI,48
  1338 00000D32 E8 FFFFF713                     	CALL	_cons_putstr0
  1339 00000D37 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1340 00000D3A FF 70 2C                        	PUSH	DWORD [44+EAX]
  1341 00000D3D 68 [0000009B]                   	PUSH	LC13
  1342 00000D42 53                              	PUSH	EBX
  1343 00000D43 E8 [00000000]                   	CALL	_sprintf
  1344 00000D48 53                              	PUSH	EBX
  1345 00000D49 57                              	PUSH	EDI
  1346 00000D4A E8 FFFFF6FB                     	CALL	_cons_putstr0
  1347 00000D4F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1348 00000D52 5B                              	POP	EBX
  1349 00000D53 89 F0                           	MOV	EAX,ESI
  1350 00000D55 5E                              	POP	ESI
  1351 00000D56 5F                              	POP	EDI
  1352 00000D57 5D                              	POP	EBP
  1353 00000D58 C3                              	RET
  1354                                          [SECTION .data]
  1355 000000A7                                 LC14:
  1356 000000A7 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000B1 20 47 65 6E 65 72 61 6C 20 50 
       000000BB 72 6F 74 65 63 74 65 64 20 45 
       000000C5 78 63 65 70 74 69 6F 6E 2E 0A 
       000000CF 00 
  1357                                          [SECTION .text]
  1358 00000D59                                 	GLOBAL	_inthandler0d
  1359 00000D59                                 _inthandler0d:
  1360 00000D59 55                              	PUSH	EBP
  1361 00000D5A 89 E5                           	MOV	EBP,ESP
  1362 00000D5C 57                              	PUSH	EDI
  1363 00000D5D 56                              	PUSH	ESI
  1364 00000D5E 53                              	PUSH	EBX
  1365 00000D5F 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1366 00000D62 83 EC 20                        	SUB	ESP,32
  1367 00000D65 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1368 00000D6B E8 [00000000]                   	CALL	_task_now
  1369 00000D70 68 [000000A7]                   	PUSH	LC14
  1370 00000D75 89 C6                           	MOV	ESI,EAX
  1371 00000D77 57                              	PUSH	EDI
  1372 00000D78 83 C6 30                        	ADD	ESI,48
  1373 00000D7B E8 FFFFF6CA                     	CALL	_cons_putstr0
  1374 00000D80 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1375 00000D83 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1376 00000D86 68 [0000009B]                   	PUSH	LC13
  1377 00000D8B 53                              	PUSH	EBX
  1378 00000D8C E8 [00000000]                   	CALL	_sprintf
  1379 00000D91 53                              	PUSH	EBX
  1380 00000D92 57                              	PUSH	EDI
  1381 00000D93 E8 FFFFF6B2                     	CALL	_cons_putstr0
  1382 00000D98 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1383 00000D9B 5B                              	POP	EBX
  1384 00000D9C 89 F0                           	MOV	EAX,ESI
  1385 00000D9E 5E                              	POP	ESI
  1386 00000D9F 5F                              	POP	EDI
  1387 00000DA0 5D                              	POP	EBP
  1388 00000DA1 C3                              	RET
  1389 00000DA2                                 	GLOBAL	_hrb_api_linewin
  1390 00000DA2                                 _hrb_api_linewin:
  1391 00000DA2 55                              	PUSH	EBP
  1392 00000DA3 89 E5                           	MOV	EBP,ESP
  1393 00000DA5 57                              	PUSH	EDI
  1394 00000DA6 56                              	PUSH	ESI
  1395 00000DA7 53                              	PUSH	EBX
  1396 00000DA8 83 EC 0C                        	SUB	ESP,12
  1397 00000DAB 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1398 00000DAE 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1399 00000DB1 89 D9                           	MOV	ECX,EBX
  1400 00000DB3 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1401 00000DB6 C1 E1 0A                        	SAL	ECX,10
  1402 00000DB9 89 D7                           	MOV	EDI,EDX
  1403 00000DBB 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1404 00000DBE 89 C6                           	MOV	ESI,EAX
  1405 00000DC0 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1406 00000DC3 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1407 00000DC6 C1 E1 0A                        	SAL	ECX,10
  1408 00000DC9 29 DE                           	SUB	ESI,EBX
  1409 00000DCB 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1410 00000DCE 0F 88 000000A3                  	JS	L282
  1411 00000DD4                                 L261:
  1412 00000DD4 85 FF                           	TEST	EDI,EDI
  1413 00000DD6 0F 88 00000094                  	JS	L283
  1414 00000DDC                                 L262:
  1415 00000DDC 39 FE                           	CMP	ESI,EDI
  1416 00000DDE 7C 62                           	JL	L263
  1417 00000DE0 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1418 00000DE3 39 C3                           	CMP	EBX,EAX
  1419 00000DE5 BE FFFFFC00                     	MOV	ESI,-1024
  1420 00000DEA 7F 05                           	JG	L265
  1421 00000DEC BE 00000400                     	MOV	ESI,1024
  1422 00000DF1                                 L265:
  1423 00000DF1 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1424 00000DF4 7F 46                           	JG	L266
  1425 00000DF6 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1426 00000DF9 42                              	INC	EDX
  1427 00000DFA                                 L281:
  1428 00000DFA C1 E2 0A                        	SAL	EDX,10
  1429 00000DFD 89 D0                           	MOV	EAX,EDX
  1430 00000DFF 99                              	CDQ
  1431 00000E00 F7 F9                           	IDIV	ECX
  1432 00000E02 89 C7                           	MOV	EDI,EAX
  1433 00000E04                                 L268:
  1434 00000E04 85 C9                           	TEST	ECX,ECX
  1435 00000E06 7E 2C                           	JLE	L279
  1436 00000E08 89 CB                           	MOV	EBX,ECX
  1437 00000E0A                                 L277:
  1438 00000E0A 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1439 00000E0D 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1440 00000E10 C1 F8 0A                        	SAR	EAX,10
  1441 00000E13 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1442 00000E16 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1443 00000E1A C1 F9 0A                        	SAR	ECX,10
  1444 00000E1D 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1445 00000E20 8B 0A                           	MOV	ECX,DWORD [EDX]
  1446 00000E22 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1447 00000E25 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1448 00000E28 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1449 00000E2B 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1450 00000E2E 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1451 00000E31 4B                              	DEC	EBX
  1452 00000E32 75 D6                           	JNE	L277
  1453 00000E34                                 L279:
  1454 00000E34 83 C4 0C                        	ADD	ESP,12
  1455 00000E37 5B                              	POP	EBX
  1456 00000E38 5E                              	POP	ESI
  1457 00000E39 5F                              	POP	EDI
  1458 00000E3A 5D                              	POP	EBP
  1459 00000E3B C3                              	RET
  1460 00000E3C                                 L266:
  1461 00000E3C 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1462 00000E3F 4A                              	DEC	EDX
  1463 00000E40 EB B8                           	JMP	L281
  1464 00000E42                                 L263:
  1465 00000E42 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1466 00000E45 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1467 00000E48 BF FFFFFC00                     	MOV	EDI,-1024
  1468 00000E4D 7F 05                           	JG	L270
  1469 00000E4F BF 00000400                     	MOV	EDI,1024
  1470 00000E54                                 L270:
  1471 00000E54 39 C3                           	CMP	EBX,EAX
  1472 00000E56 7F 11                           	JG	L271
  1473 00000E58 29 D8                           	SUB	EAX,EBX
  1474 00000E5A 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1475 00000E5D                                 L280:
  1476 00000E5D C1 E2 0A                        	SAL	EDX,10
  1477 00000E60 89 D0                           	MOV	EAX,EDX
  1478 00000E62 99                              	CDQ
  1479 00000E63 F7 F9                           	IDIV	ECX
  1480 00000E65 89 C6                           	MOV	ESI,EAX
  1481 00000E67 EB 9B                           	JMP	L268
  1482 00000E69                                 L271:
  1483 00000E69 29 D8                           	SUB	EAX,EBX
  1484 00000E6B 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1485 00000E6E EB ED                           	JMP	L280
  1486 00000E70                                 L283:
  1487 00000E70 F7 DF                           	NEG	EDI
  1488 00000E72 E9 FFFFFF65                     	JMP	L262
  1489 00000E77                                 L282:
  1490 00000E77 F7 DE                           	NEG	ESI
  1491 00000E79 E9 FFFFFF56                     	JMP	L261
