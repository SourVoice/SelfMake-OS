     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_boxfill8
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 [FILE "bootpack.c"]
    13                                          [SECTION .text]
    14 00000000                                 	GLOBAL	_HariMain
    15 00000000                                 _HariMain:
    16 00000000 55                              	PUSH	EBP
    17 00000001 89 E5                           	MOV	EBP,ESP
    18 00000003 E8 00000064                     	CALL	_init_palette
    19 00000008 6A 78                           	PUSH	120
    20 0000000A 6A 78                           	PUSH	120
    21 0000000C 6A 14                           	PUSH	20
    22 0000000E 6A 14                           	PUSH	20
    23 00000010 6A 01                           	PUSH	1
    24 00000012 68 00000140                     	PUSH	320
    25 00000017 68 000A0000                     	PUSH	655360
    26 0000001C E8 [00000000]                   	CALL	_boxfill8
    27 00000021 68 00000096                     	PUSH	150
    28 00000026 68 000000AA                     	PUSH	170
    29 0000002B 6A 32                           	PUSH	50
    30 0000002D 6A 46                           	PUSH	70
    31 0000002F 6A 02                           	PUSH	2
    32 00000031 68 00000140                     	PUSH	320
    33 00000036 68 000A0000                     	PUSH	655360
    34 0000003B E8 [00000000]                   	CALL	_boxfill8
    35 00000040 83 C4 38                        	ADD	ESP,56
    36 00000043 68 000000B4                     	PUSH	180
    37 00000048 68 000000DC                     	PUSH	220
    38 0000004D 6A 50                           	PUSH	80
    39 0000004F 6A 78                           	PUSH	120
    40 00000051 6A 04                           	PUSH	4
    41 00000053 68 00000140                     	PUSH	320
    42 00000058 68 000A0000                     	PUSH	655360
    43 0000005D E8 [00000000]                   	CALL	_boxfill8
    44 00000062 83 C4 1C                        	ADD	ESP,28
    45 00000065                                 L2:
    46 00000065 E8 [00000000]                   	CALL	_io_hlt
    47 0000006A EB F9                           	JMP	L2
    48                                          [SECTION .data]
    49 00000000                                 _table_rgb.0:
    50 00000000 00                              	DB	0
    51 00000001 00                              	DB	0
    52 00000002 00                              	DB	0
    53 00000003 FF                              	DB	-1
    54 00000004 00                              	DB	0
    55 00000005 00                              	DB	0
    56 00000006 00                              	DB	0
    57 00000007 FF                              	DB	-1
    58 00000008 00                              	DB	0
    59 00000009 FF                              	DB	-1
    60 0000000A FF                              	DB	-1
    61 0000000B 00                              	DB	0
    62 0000000C 00                              	DB	0
    63 0000000D 00                              	DB	0
    64 0000000E FF                              	DB	-1
    65 0000000F FF                              	DB	-1
    66 00000010 00                              	DB	0
    67 00000011 FF                              	DB	-1
    68 00000012 00                              	DB	0
    69 00000013 FF                              	DB	-1
    70 00000014 FF                              	DB	-1
    71 00000015 FF                              	DB	-1
    72 00000016 FF                              	DB	-1
    73 00000017 FF                              	DB	-1
    74 00000018 C6                              	DB	-58
    75 00000019 C6                              	DB	-58
    76 0000001A C6                              	DB	-58
    77 0000001B 84                              	DB	-124
    78 0000001C 00                              	DB	0
    79 0000001D 00                              	DB	0
    80 0000001E 00                              	DB	0
    81 0000001F 84                              	DB	-124
    82 00000020 00                              	DB	0
    83 00000021 84                              	DB	-124
    84 00000022 84                              	DB	-124
    85 00000023 00                              	DB	0
    86 00000024 00                              	DB	0
    87 00000025 00                              	DB	0
    88 00000026 84                              	DB	-124
    89 00000027 84                              	DB	-124
    90 00000028 00                              	DB	0
    91 00000029 84                              	DB	-124
    92 0000002A 00                              	DB	0
    93 0000002B 84                              	DB	-124
    94 0000002C 84                              	DB	-124
    95 0000002D 84                              	DB	-124
    96 0000002E 84                              	DB	-124
    97 0000002F 84                              	DB	-124
    98                                          [SECTION .text]
    99 0000006C                                 	GLOBAL	_init_palette
   100 0000006C                                 _init_palette:
   101 0000006C 55                              	PUSH	EBP
   102 0000006D 89 E5                           	MOV	EBP,ESP
   103 0000006F 68 [00000000]                   	PUSH	_table_rgb.0
   104 00000074 6A 0F                           	PUSH	15
   105 00000076 6A 00                           	PUSH	0
   106 00000078 E8 00000002                     	CALL	_set_palette
   107 0000007D C9                              	LEAVE
   108 0000007E C3                              	RET
   109 0000007F                                 	GLOBAL	_set_palette
   110 0000007F                                 _set_palette:
   111 0000007F 55                              	PUSH	EBP
   112 00000080 89 E5                           	MOV	EBP,ESP
   113 00000082 57                              	PUSH	EDI
   114 00000083 56                              	PUSH	ESI
   115 00000084 53                              	PUSH	EBX
   116 00000085 51                              	PUSH	ECX
   117 00000086 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   118 00000089 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   119 0000008C 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   120 0000008F E8 [00000000]                   	CALL	_io_load_eflags
   121 00000094 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   122 00000097 E8 [00000000]                   	CALL	_io_cli
   123 0000009C 53                              	PUSH	EBX
   124 0000009D 68 000003C8                     	PUSH	968
   125 000000A2 E8 [00000000]                   	CALL	_io_out8
   126 000000A7 39 FB                           	CMP	EBX,EDI
   127 000000A9 58                              	POP	EAX
   128 000000AA 5A                              	POP	EDX
   129 000000AB 7E 12                           	JLE	L11
   130 000000AD                                 L13:
   131 000000AD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   132 000000B0 89 45 08                        	MOV	DWORD [8+EBP],EAX
   133 000000B3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   134 000000B6 5B                              	POP	EBX
   135 000000B7 5E                              	POP	ESI
   136 000000B8 5F                              	POP	EDI
   137 000000B9 5D                              	POP	EBP
   138 000000BA E9 [00000000]                   	JMP	_io_store_eflags
   139 000000BF                                 L11:
   140 000000BF 8A 06                           	MOV	AL,BYTE [ESI]
   141 000000C1 43                              	INC	EBX
   142 000000C2 C0 E8 02                        	SHR	AL,2
   143 000000C5 0F B6 C0                        	MOVZX	EAX,AL
   144 000000C8 50                              	PUSH	EAX
   145 000000C9 68 000003C9                     	PUSH	969
   146 000000CE E8 [00000000]                   	CALL	_io_out8
   147 000000D3 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   148 000000D6 C0 E8 02                        	SHR	AL,2
   149 000000D9 0F B6 C0                        	MOVZX	EAX,AL
   150 000000DC 50                              	PUSH	EAX
   151 000000DD 68 000003C9                     	PUSH	969
   152 000000E2 E8 [00000000]                   	CALL	_io_out8
   153 000000E7 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   154 000000EA C0 E8 02                        	SHR	AL,2
   155 000000ED 83 C6 03                        	ADD	ESI,3
   156 000000F0 0F B6 C0                        	MOVZX	EAX,AL
   157 000000F3 50                              	PUSH	EAX
   158 000000F4 68 000003C9                     	PUSH	969
   159 000000F9 E8 [00000000]                   	CALL	_io_out8
   160 000000FE 83 C4 18                        	ADD	ESP,24
   161 00000101 39 FB                           	CMP	EBX,EDI
   162 00000103 7E BA                           	JLE	L11
   163 00000105 EB A6                           	JMP	L13
